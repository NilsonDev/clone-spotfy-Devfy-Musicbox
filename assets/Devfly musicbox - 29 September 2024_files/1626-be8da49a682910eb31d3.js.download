(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[1626],{28411:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});let a="noise_cancellation_type"},51458:function(e,t,n){"use strict";n.d(t,{L:function(){return r},Z:function(){return l}});var a=n(31511);let l=a.ZN,r=a.fv},61259:function(e,t,n){"use strict";n.d(t,{Y:function(){return eH}});var a=n(20887),l=n(28537),r=n(58453),i=n(51155),o=n(50679),s=n(60154),c=n(36897),d=n(16032),m=n(44e3),u=n(6415),g=n(24790),v=n(19292),p=n(23117),E=n(16175),h=n(92714),f=n(39362),b=n(55238),_=n(45431),y=n(84437),k=n(56694),w=n(41994),C=n.n(w),T=n(54437),x=n(70211),S=n(37984),I=n(58216),A=n(35061),N=n(37658),W=n(88244),P=n(95685),F=n(42445),L=n(76706),$=n(83034),B=n(28411),V=n(25051),z=n(63432),D=n(48513),R=n(74544),O=n(95796),M=n(31439),Z=n(65922),U=n(95282),Y=n(21190),j=n(78007),q=n(12162),H=n(66175),G=n(4e3),K=n(59977),J=n(6705),Q=n(82985);let X=h.Z.div`
  display: flex;
  gap: var(--lns-space-medium);
`,ee=h.Z.div`
  padding: var(--lns-space-medium) 0;
  margin-right: var(--lns-space-xsmall);

  flex-grow: 1;
`,et=h.Z.span`
  margin: auto 0;
`,en=h.Z.span`
  display: flex;
  align-items: flex-start;
  gap: 6px;
`,ea=({text:e})=>{let t=(0,k.hP)(),n=t.memberRole===Q.N,l=(0,o.I0)();return r.createElement(J.A,null,({showModal:t})=>r.createElement(g.xvT,{size:"small",color:"grey5"},r.createElement(g.rUS,{variant:"neutral",onClick:()=>{n?l((0,K.O)("business",{analyticEvent:a.Lam})):("customize player"===e&&c.track(a.zvP),t())}},"Upgrade"),r.createElement("span",null,` to ${e}`)))},el=({children:e,settingName:t,subtext:n,useUpgradeLink:a,upgradeText:l,isBeta:i})=>r.createElement(ee,null,r.createElement(g.ggW,{gap:"medium",alignItems:"start",columns:["1fr","auto"]},r.createElement(en,null,r.createElement(g.xvT,{fontWeight:"bold"},t),i?r.createElement(g.DRh,{backgroundColor:"highlight"},"Beta"):null),e),a?r.createElement(ea,{text:l}):r.createElement(g.xvT,{size:"small",color:"grey5"},n)),er=({Icon:e,children:t,settingName:n,subtext:a,useUpgradeLink:l,upgradeText:i,isBeta:o})=>r.createElement(X,null,r.createElement(et,null,e),r.createElement(el,{settingName:n,subtext:a,useUpgradeLink:l,upgradeText:i,isBeta:o},t));var ei=n(51110),eo=n(58033);let es="email_gate_video_type",ec=`
  @keyframes fade-in-out {
    0% {
      box-shadow: none;
    }
    25% {
      box-shadow: 0 2px 0 var(--lns-color-focusRing), 0 -2px 0 var(--lns-color-focusRing);

    }
    75% {
      box-shadow: 0 2px 0 var(--lns-color-focusRing), 0 -2px 0 var(--lns-color-focusRing);

    }
    100% {
      box-shadow: none;
    }
  }

  animation: fade-in-out 2000ms ease-in-out;
`,ed=h.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,em=h.Z.div`
  position: relative;

  ${e=>e.shouldAnimate?ec:""}
`,eu=[{value:v.q.None,name:"No"},{value:v.q.Soft,name:"Ask for email"},{value:v.q.Hard,name:"Require email"}].map(({value:e,name:t})=>({value:e,title:r.createElement(g.xvT,{fontWeight:"bold"},t)})),eg=({children:e,shouldAnimate:t,setShouldAnimate:n})=>{let a=(0,r.useCallback)(e=>{e&&e.addEventListener("animationend",()=>{n(!1)})},[n]);return r.createElement(em,{shouldAnimate:t,ref:a},e)},ev=({options:e,onOptionSelect:t,shouldAnimate:n,setShouldAnimate:a})=>r.createElement(r.Fragment,null,r.createElement(eg,{shouldAnimate:n,setShouldAnimate:a},r.createElement(el,{key:es,settingName:"Request email to view",subtext:"Viewers that aren’t logged-in will need to provide an email to be able to access the video"},r.createElement(g.PhF,{trigger:(e,t)=>r.createElement(ed,null,r.createElement(g.Avr,{size:"medium",iconPosition:"right",icon:r.createElement(P.w,null),...t},r.createElement(g.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:e[es],menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:eu,onChange:e=>t(es,e.value)}))));var ep=n(50003),eE=n(23049),eh=n(52304),ef=n(10164);let eb="Contact an admin to enable Salesforce for your workspace",e_=h.Z.span`
  & div + div {
    border-top: 0;
  }
`,ey=({emailGateSetting:e,handleRelatedSettingsEditClick:t})=>{let n,a;return e===v.q.None?(n="Anonymous viewers are not asked for an email.",a=r.createElement(g.JO$,{icon:r.createElement(ep._,null)})):(n=e===v.q.Soft?"Anonymous viewers are asked for their email.":"Anonymous viewers are required to provide their email. (recommended)",a=r.createElement(g.JO$,{icon:r.createElement(eE.y,null),color:"success"})),r.createElement(e_,null,r.createElement(g.W20,{backgroundColor:"backgroundSecondary",padding:2.5,gap:2,radius:"large",htmlTag:"section"},r.createElement(g.xvT,{fontWeight:"bold"},"Related settings for Salesforce"),r.createElement(g.LZC,{top:2}),r.createElement(g.ggW,{alignItems:"start",gap:1},a,r.createElement(g.ggW,{autoFlow:"row",gap:1},r.createElement(g.xvT,null,n),r.createElement(g.xvT,{isDimmed:!0},"Anonymous viewers that don't provide their email are not trackable in Salesforce."),r.createElement(g.rUS,{onClick:t},"Edit setting")))))},ek=({isFromDefaultSettings:e,options:t,toggleProp:n,handleRelatedSettingsEditClick:a})=>{let{loading:l,data:i}=(0,ef.D3)({variables:{integrationType:"SFDC"}});if(l)return null;let o=!1;i?.getIntegrationActive?.__typename==="GetIntegrationActivePayload"?o=i.getIntegrationActive.isActive:eb="Salesforce integration status currently unavailable";let s=!e&&o&&t.salesforce_engagement_tracking;return r.createElement(r.Fragment,null,r.createElement(er,{key:"salesforce_engagement_tracking",settingName:"Salesforce tracking",subtext:o?"Track your views and engagement metrics directly in Salesforce":eb,Icon:r.createElement(g.JO$,{icon:r.createElement(eh.K,null),size:5})},r.createElement(g.rsf,{isActive:t.salesforce_engagement_tracking,onChange:()=>{n("salesforce_engagement_tracking")},isDisabled:!o,ariaLabel:"Engagement tracking"})),s?r.createElement(ey,{emailGateSetting:t.email_gate_video_type,handleRelatedSettingsEditClick:a}):null)},ew=h.Z.div`
  & div + div {
    border-top: solid var(--lns-color-border) 1px;
  }
`,eC=h.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,eT="Audience",ex="Enhancements",eS="Integrations",eI="Loom AI",eA=({options:e,hasAIAccess:t,suggestedPlaybackOptions:n,setOptions:l,setToggleComments:i})=>{let[s,d]=(0,r.useState)(t?eI:ex),m=(0,o.v9)(e=>(0,S.MU)(e,z.$5)),{type:u}=(0,k.hP)(),v=u===R.zF,p=!(0,eo.I)()&&u===R.q1,E=v||p,h=(0,_.Mr)({flag:L.EE7,activationValues:["filler_words","filler_words_and_silences"]}),f=(0,_.Mr)({flag:L.EE7,activationValues:["filler_words_and_silences"]}),b=e=>{d(e),c.track(a.sX1,{tab:e})},y=t=>l({...e,[t]:!e[t]}),w=()=>{let{comments_enabled:t,record_reply_enabled:n}=e;(t||n)&&y("record_reply_enabled")},C=()=>{let{comments_enabled:t,comments_email_enabled:n}=e;(t||n)&&y("comments_email_enabled")},T=(t,n)=>{l({...e,[t]:n})},x=[h&&{settingName:"Auto filler word removal",subtext:"Automatically remove filler words from your videos",key:"auto_filler_word_removal",onChange:()=>y("auto_filler_word_removal"),isActive:!0},f&&{settingName:"Auto silence removal",subtext:"Automatically remove silences from your videos",key:"auto_silence_removal",onChange:()=>y("auto_silence_removal"),isActive:!0},{settingName:"Auto title",subtext:"AI generated titles for your videos",key:"auto_title",onChange:()=>y("auto_title"),isActive:!0},{settingName:"Auto summary",subtext:"AI generated summaries for your videos",key:"auto_summary",onChange:()=>y("auto_summary"),isActive:!0},{settingName:"Auto chapters",subtext:"AI generated chapters for your videos",key:"auto_chapters",onChange:()=>y("auto_chapters"),isActive:!0},{settingName:"Auto tasks",subtext:"AI generated tasks for your videos",key:"auto_tasks",onChange:()=>y("auto_tasks"),isActive:!0},{settingName:"Auto CTA",subtext:"Automatically detect the link you are sharing",key:"auto_cta",onChange:()=>y("auto_cta"),isActive:!0}].filter(e=>!!e),I=[{settingName:"Background noise filter",subtext:"Filter out unwanted noise",key:"noise_suppression",onChange:()=>y("noise_suppression"),isActive:!0},{settingName:"Loom branded player",subtext:"Prompt viewers to log in or sign-up",key:"loom_branded_player",onChange:()=>y("loom_branded_player"),isActive:m,useUpgradeLink:!m,upgradeText:"customize player"},{settingName:"Animated thumbnail",subtext:"Automatic gif thumbnail when you share",key:"use_gif",onChange:()=>y("use_gif"),isActive:!0}],A=[{settingName:"Comments",subtext:"Allow viewers to add comments",key:"comments_enabled",onChange:()=>{y("comments_enabled"),i(!0)},isActive:!0},{settingName:"Comment notification",subtext:e.comments_enabled?"Get an email when someone comments":"Inactive when comments are turned off",key:"comments_email_enabled",onChange:()=>C(),isActive:e.comments_enabled},{settingName:"Record a reply",subtext:e.comments_enabled?"Allow viewers to comment with a Loom":"Inactive when comments are turned off",key:"record_reply_enabled",onChange:()=>w(),isActive:e.comments_enabled},{settingName:"Emoji reactions",subtext:"Allow viewers to add reactions",key:"use_emojis",onChange:()=>y("use_emojis"),isActive:!0},{settingName:"Download",subtext:"Allow viewers to download your video",key:"download_enabled",onChange:()=>y("download_enabled"),isActive:!0},{settingName:"Stitch",subtext:"Allow viewers to stitch this video",key:"viewers_can_weave",onChange:()=>y("viewers_can_weave"),isActive:!0},{settingName:"Analytics",subtext:"Allow viewers to see video analytics",key:"show_analytics_to_viewer",onChange:()=>y("show_analytics_to_viewer"),isActive:!0},{settingName:"Transcript",subtext:"Allow viewers to access the transcript",key:"show_transcript_to_viewer",onChange:()=>y("show_transcript_to_viewer"),isActive:!0}];return r.createElement(r.Fragment,null,r.createElement(g.mQc,{hasFullTabs:!0},t&&r.createElement(g.OK9,{isActive:eI===s,onClick:()=>b(eI)},eI),r.createElement(g.OK9,{isActive:ex===s,onClick:()=>b(ex)},ex),r.createElement(g.OK9,{isActive:eT===s,onClick:()=>b(eT)},eT),v?r.createElement(g.OK9,{isActive:eS===s,onClick:()=>b(eS)},eS):null),r.createElement("div",{className:"overflow:hidden;"},s===eI&&r.createElement(ew,null,r.createElement(g.LZC,{y:"medium"},r.createElement(g.xvT,null,"Modify the default Loom AI settings for this video and future videos. Learn more about ",r.createElement(g.rUS,{href:ei.GS},"Loom AI")," ","or ",r.createElement(g.rUS,{href:ei.kb},"give feedback"),".")),x.map(t=>r.createElement(el,{key:t.key,settingName:t.settingName,subtext:t.subtext},r.createElement(g.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),s===ex&&r.createElement(ew,null,I.map(t=>r.createElement(el,{key:t.key,settingName:t.settingName,subtext:t.subtext,useUpgradeLink:t.useUpgradeLink,upgradeText:t.upgradeText},r.createElement(g.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),s===eT&&r.createElement(ew,null,r.createElement(el,{key:"suggested_playback_rate",settingName:"Recommend a playback speed",subtext:"Suggest a viewing speed for your audience"},r.createElement(g.PhF,{trigger:(e,t)=>r.createElement(eC,null,r.createElement(g.Avr,{size:"medium",iconPosition:"right",icon:r.createElement(P.w,null),...t},r.createElement(g.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:e.suggested_playback_rate,menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:n,onChange:e=>T("suggested_playback_rate",e.value)})),E?r.createElement(ev,{options:e,onOptionSelect:T}):null,A.map(t=>r.createElement(el,{key:t.key,settingName:t.settingName,subtext:t.subtext},r.createElement(g.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),s===eS&&r.createElement(ew,null,r.createElement(ek,{isFromDefaultSettings:!0,options:e,toggleProp:y}))))},eN="Enhancements",eW="Audience",eP="Integrations",eF=h.Z.div`
  border-top-left-radius: var(--lns-radius-xlarge);
  margin-bottom: calc(var(--lns-space-small) + var(--lns-space-medium));
`,eL=h.Z.div`
  overflow: auto;
  max-height: 100%;
`,e$=h.Z.div`
  & div + div {
    border-top: solid var(--lns-color-border) 1px;
  }
`,eB=h.Z.div`
  overflow: hidden;
`,eV=h.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,ez=h.Z.div`
  height: calc(var(--lns-space-xxlarge) + var(--lns-space-small));
  min-height: calc(var(--lns-space-xxlarge) + var(--lns-space-small));

  background-color: var(--lns-color-overlay);
  & > div {
    height: 100%;
    padding: 0 var(--lns-space-xlarge);
    & > div {
      height: 100%;
    }
  }
`,eD=h.Z.div`
  background-color: var(--lns-color-backgroundSecondary);
`,eR=h.Z.div`
  ${e=>!e.isInVideoSetting&&!e.settingsIsInEditTab&&`padding-left: var(--lns-space-medium);
   padding-right: var(--lns-space-medium);`}
`,eO=e=>e&&e!==p.to?`${(0,A.v)(e).toString()}x`:"None",eM=()=>p.wn.map(e=>{let t=eO(e);return{value:e,title:r.createElement(g.xvT,{fontWeight:"bold"},t)}}),eZ=(e,t,n)=>n?e?t?"Transcript processing":"Allow viewers to access the transcript":"Transcript unavailable for this video":"Allow viewers to access the transcript",eU=({video:e,options:t,setOptions:n,originalOptions:i,onOpenDefaultsModal:s,isInVideoSetting:d,onCloseVideoSettingsDrawer:v=()=>{},onCloseDefaultsModal:h=()=>{},currentSettings:w,updateCurrentSettings:A,pageTitle:K,settingsIsInEditTab:J=!1})=>{let Q=(0,o.I0)(),{video:{thumbnails:X}}=(0,l.dPl)(),ee=(0,r.useRef)(null),et=(0,r.useRef)(null),[en,ea]=(0,r.useState)(!1),er=(0,_.Mr)({flag:L.CC9,activationValues:[$.zY,$.oS]}),ei=(0,_.Mr)({flag:L.Hjs,activationValues:[$.zY,$.oS]}),eo=(0,m.I)(),es=(0,u.x)(),ec=(0,_.W9)(L.SMQ),{type:ed}=(0,k.hP)(),em=ed===R.zF,eu=ed===R.q1,eg=em||eu,ep=(0,Y.bM)(E.K1),eE=(0,y.W)(),eh=(0,o.v9)(U.ub),ef=(0,o.v9)(U.Dl),eb=[D.Hw,D.on,D.Bj,D.rT].includes(ef),[e_,ey]=(0,r.useState)(eN),[ew,eC]=(0,r.useState)(!1),[eT,ex]=(0,r.useState)(!1),eS=(X||{})[p.EK],{removeVideoThumbnail:eI}=(0,H.r)(),eO=(0,o.v9)(e=>(0,S.MU)(e,z.po)),{updateVideoSettings:eU}=(0,G.a)(),eY=(0,o.v9)(e=>(0,S.MU)(e,z.$5)),ej=!d||eh;(0,r.useEffect)(()=>{if(d){let e=document.getElementById("video-settings-close-btn");e&&e.focus()}},[d]),(0,r.useEffect)(()=>{if(!ew)return;let{comments_enabled:e}=t;ex(!0);let a=window.setTimeout(()=>{n({...t,comments_email_enabled:e,record_reply_enabled:e}),eC(!1),ex(!1)},200);return()=>{window.clearTimeout(a)}},[t,n,ew]);let eq=(0,r.useCallback)(e=>{ey(e),c.track(d?a.ca7:a.sX1,{tab:e})},[d]);(0,r.useEffect)(()=>{ep&&(eq(eP),et?.current&&et.current.scrollIntoView({behavior:"instant",block:"start"})),(0,Y.gz)(E.K1)},[ep,eq]);let eH=(0,r.useCallback)(n=>{n&&c.track(a.Sm6,{video_id:e.id,noise_suppression:t.noise_suppression})},[t.noise_suppression,e.id]),eG=(0,r.useCallback)((e,n)=>{let l={...t,processing_information:{[B.r]:t.noise_suppression}};eU({newSettings:l,refetchSourceUrl:!0}).then(()=>{c.track(a.HvM,{old_state:w||i,new_state:l,is_default:!1}),n||(Q((0,O.Bh)("Video settings saved")),v())}).catch(e=>{I.error(e,{message:"error in handleSaveCurrentSettings creator",isDefault:!1},{feature:V.L0.VideoSettings}),Q((0,O.Bh)("Please reload and try again"))})},[w,Q,v,t,i,eU]),{refetch:eK}=(0,N.iy)(),eJ=(0,r.useCallback)(e=>{if(!e)return;c.track(a.C6A,{isEnabled:t.auto_title}),c.track(a.sIR,{isEnabled:t.auto_summary}),eo&&c.track(a.gz4,{isEnabled:t.auto_chapters});let n={...t,viewers_can_weave_default:t.viewers_can_weave};(0,M.t)({url:"/v1/users/video_settings",options:{method:"PATCH",body:JSON.stringify({video_settings:n})}}).then(()=>{c.track(a.HvM,{old_state:i,new_state:n,is_default:!0}),A(eh?t:{...t,show_transcript_to_viewer:w.show_transcript_to_viewer}),eK(),Q((0,O.Bh)("Default video settings saved")),h()}).catch(e=>{I.error(e,{message:"error in handleSaveDefaultSettings creator",isDefault:!0},{feature:V.L0.VideoSettings}),Q((0,O.Bh)("Please reload and try again"))})},[w,Q,h,t,i,A,eh]),eQ=e=>{if(eT||C()(t))return;let n=t.noise_suppression!==i.noise_suppression;eH(n),eG(n,e),eJ(e)},eX=(0,r.useCallback)(e=>n({...t,[e]:!t[e]}),[t,n]),e0=(0,r.useCallback)(()=>{let{comments_enabled:e,comments_email_enabled:n}=t;(e||n)&&eX("comments_email_enabled")},[t,eX]),e1=(0,r.useCallback)(()=>{let{comments_enabled:e,record_reply_enabled:n}=t;(e||n)&&eX("record_reply_enabled")},[t,eX]),e2=(0,r.useCallback)((e,a)=>{n({...t,[e]:a})},[t,n]),e5=(0,r.useMemo)(()=>[!d&&eo&&{settingName:"Auto chapters",subtext:"AI generated chapters for your videos",key:"auto_chapters",onChange:()=>eX("auto_chapters"),isActive:!0},{settingName:"Background noise filter",subtext:"Filter out unwanted noise",key:"noise_suppression",onChange:()=>eX("noise_suppression"),isActive:!0},!d&&er&&{settingName:"Auto title",subtext:"AI generated titles for your videos",key:"auto_title",onChange:()=>eX("auto_title"),isActive:!0},!d&&ei&&{settingName:"Auto summary",subtext:"AI generated summaries for your videos",key:"auto_summary",onChange:()=>eX("auto_summary"),isActive:!0},!d&&es&&{settingName:"Auto tasks",subtext:"AI generated tasks for your videos",key:"auto_tasks",onChange:()=>eX("auto_tasks"),isActive:!0},{settingName:"Loom branded player",subtext:eY?"Prompt viewers to log in or sign-up":"",key:"loom_branded_player",onChange:()=>eX("loom_branded_player"),isActive:eY,useUpgradeLink:!eY,upgradeText:"customize player"},{settingName:"Animated thumbnail",subtext:"Automatic gif thumbnail when you share",key:"use_gif",onChange:()=>eX("use_gif"),isActive:!0}].filter(Boolean),[d,eo,er,ei,es,eY,eX]),e9=(0,r.useMemo)(()=>[{settingName:"Comments",subtext:"Allow viewers to add comments",key:"comments_enabled",onChange:()=>{eX("comments_enabled"),eC(!0)},isActive:!0},{settingName:"Comment notification",subtext:t.comments_enabled?"Get an email when someone comments":"Inactive when comments are turned off",key:"comments_email_enabled",onChange:()=>e0(),isActive:t.comments_enabled},{settingName:"Record a reply",subtext:t.comments_enabled?"Allow viewers to comment with a Loom":"Inactive when comments are turned off",key:"record_reply_enabled",onChange:()=>e1(),isActive:t.comments_enabled},{settingName:"Emoji reactions",subtext:"Allow viewers to add reactions",key:"use_emojis",onChange:()=>eX("use_emojis"),isActive:!0},{settingName:"Download",subtext:"Allow viewers to download your video",key:"download_enabled",onChange:()=>eX("download_enabled"),isActive:!0},{settingName:"Stitch",subtext:"Allow viewers to stitch this video",key:"viewers_can_weave",onChange:()=>eX("viewers_can_weave"),isActive:!0},{settingName:"Analytics",subtext:"Allow viewers to see video analytics",key:"show_analytics_to_viewer",onChange:()=>eX("show_analytics_to_viewer"),isActive:!0},{settingName:"Transcript",subtext:eZ(eh,eb,d),key:"show_transcript_to_viewer",onChange:()=>eX("show_transcript_to_viewer"),isActive:ej}],[d,ej,eb,t.comments_enabled,e0,eX,e1,eh]),e3=d&&!J?K:null,e4=(0,o.v9)(Z.DD);return e4?r.createElement(q.T,{currentPage:b.L.Thumbnail,onClose:v,pageTitle:"Change Thumbnail"}):r.createElement(f.O,{footer:r.createElement(()=>d?r.createElement(j.$,null,r.createElement(g.zxk,{variant:"neutral",onClick:s,hasFullWidth:!0},"Set defaults…"),r.createElement(g.zxk,{variant:"primary",onClick:()=>eQ(!1),hasFullWidth:!0},"Save")):r.createElement(ez,null,r.createElement(eD,null,r.createElement(g.ggW,{columns:["1fr"]},r.createElement(g.zxk,{variant:"primary",onClick:()=>eQ(!0),hasFullWidth:!0},"Save defaults")))),null),title:e3,goBackToEditPage:v,backupTitleComponent:d?null:r.createElement(()=>r.createElement(eF,null,r.createElement(g.LZC,{left:"xlarge",right:"xlarge"},r.createElement(g.LZC,{top:"xlarge",bottom:"medium"},r.createElement(g.xvT,{size:"large",fontWeight:"bold"},"Default video settings")),r.createElement(g.xvT,null,"Modify default settings for this video and future videos"))),null),settingsIsInEditTab:J},r.createElement(eR,{isInVideoSetting:d,settingsIsInEditTab:J},r.createElement(eL,{isInVideoSetting:d},!d&&ec?r.createElement(eA,{options:t,hasAIAccess:eE,suggestedPlaybackOptions:eM(),setOptions:n,setToggleComments:eC}):r.createElement(r.Fragment,null,r.createElement(g.mQc,{isPilledDesign:d,hasFullTabs:!d},r.createElement(g.OK9,{isActive:eN===e_,onClick:()=>eq(eN)},eN),r.createElement(g.OK9,{isActive:eW===e_,onClick:()=>eq(eW)},eW),em?r.createElement(g.OK9,{isActive:eP===e_,onClick:()=>eq(eP)},eP):null),r.createElement(eB,{isInVideoSetting:d},e_===eN&&r.createElement(e$,null,d?r.createElement(el,{key:"thumbnail",settingName:"Video thumbnail",subtext:"Add a custom video thumbnail for your audience",isActive:eO,useUpgradeLink:!eO,upgradeText:"add video thumbnail"},eO?eS?r.createElement(g.Avr,{altText:"Remove Thumbnail",icon:r.createElement(F.z,null),iconPosition:"right",onClick:()=>{eI(),Q((0,T.c_)(null))}},"Remove"):r.createElement(g.Avr,{altText:"Add Thumbnail",icon:r.createElement(W.z,null),iconPosition:"right",onClick:()=>{Q((0,x.h7)({modalType:"VIDEO_THUMBNAIL_MODAL"})),Q((0,T.lf)())}},"Add"):null):null,e5.map(e=>r.createElement(el,{key:e.key,settingName:e.settingName,subtext:e.subtext,useUpgradeLink:e.useUpgradeLink,upgradeText:e.upgradeText},r.createElement(g.rsf,{isActive:t[e.key],onChange:e.onChange,isDisabled:!e.isActive,ariaLabel:e.settingName})))),e_===eW&&r.createElement(e$,null,r.createElement(el,{key:"suggested_playback_rate",settingName:"Recommend a playback speed",subtext:"Suggest a viewing speed for your audience"},r.createElement(g.PhF,{trigger:(e,t)=>r.createElement(eV,null,r.createElement(g.Avr,{size:"medium",iconPosition:"right",icon:r.createElement(P.w,null),...t},r.createElement(g.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:t.suggested_playback_rate,menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:eM(t,n),onChange:e=>e2("suggested_playback_rate",e.value)})),eg?r.createElement("div",{ref:ee},r.createElement(ev,{options:t,onOptionSelect:e2,shouldAnimate:en,setShouldAnimate:ea})):null,e9.map(e=>r.createElement(el,{key:e.key,settingName:e.settingName,subtext:e.subtext,useUpgradeLink:e.useUpgradeLink,upgradeText:e.upgradeText},r.createElement(g.rsf,{isActive:t[e.key],onChange:e.onChange,isDisabled:!e.isActive,ariaLabel:e.settingName})))),e_===eP&&r.createElement(e$,null,r.createElement("div",{ref:et},r.createElement(ek,{isFromDefaultSettings:!1,options:t,toggleProp:eX,handleRelatedSettingsEditClick:()=>{eq(eW),ee?.current&&ee.current.scrollIntoView({behavior:"instant",block:"start"}),ea(!0)}}))))))))},eY={auto_cta:!0,auto_filler_word_removal:!0,auto_silence_removal:!0,auto_summary:!0,auto_title:!0,comments_email_enabled:!0,comments_enabled:!0,download_enabled:!0,email_gate_video_type:v.q.None,loom_branded_player:!0,noise_suppression:!1,record_reply_enabled:!0,salesforce_engagement_tracking:!1,show_analytics_to_viewer:!0,show_transcript_to_viewer:!0,suggested_playback_rate:p.to,use_emojis:!0,use_gif:!0,viewers_can_weave:!0},ej=e=>{let t=new Set([...Object.keys(eY),...Object.keys(e)]),n=[...t].reduce((t,n)=>(t[n]=e[n]??eY[n],t),{});return n.viewers_can_weave=e.viewers_can_weave_default??eY.viewers_can_weave,delete n.viewers_can_weave_default,n},eq=({video:e,currentSettings:t,updateCurrentSettings:n,onCloseDefaultsModal:a})=>{let l=(0,d.useCurrentUserSelector)(e=>{if(e.videoSettings){let{__typename:t,...n}=e.videoSettings;return n}return{}},{}),i=(0,m.I)(),o=(0,u.x)();i&&(eY.auto_chapters=!0),o&&(eY.auto_tasks=!0);let s=ej(l),[c,v]=(0,r.useState)(s);return r.createElement(g.YMn,{isOpen:!0,onClick:a},r.createElement(g.pUH,{isOpen:!0,noPadding:!0,onCloseClick:a,ariaLabel:"Default video settings",maxWidth:68},r.createElement(eU,{video:e,options:c,setOptions:v,originalOptions:s,onCloseDefaultsModal:a,currentSettings:t,updateCurrentSettings:n})))},eH=({goBackToEditPage:e,pageTitle:t,settingsIsInEditTab:n=!1})=>{let{showDefaultSettings:d}=(0,o.v9)(s.z8),{video:m}=(0,l.dPl)(),u=(()=>{let{commentsEmailEnabled:e,commentsEnabled:t,downloadEnabled:n,emailGateVideoType:a,loomBrandedPlayer:l,processingInformation:r,recordReplyEnabled:i,salesforceEngagementTracking:o,showAnalytics:s,showTranscriptToViewer:c,suggestedPlaybackRate:d,useEmojis:u,useGif:g,viewersCanWeave:v}=m;return{comments_email_enabled:e,comments_enabled:t,download_enabled:n,email_gate_video_type:a,loom_branded_player:l,noise_suppression:r?.noiseSuppression,record_reply_enabled:i,salesforce_engagement_tracking:o,show_analytics_to_viewer:s,show_transcript_to_viewer:c,suggested_playback_rate:d,use_emojis:u,use_gif:g,viewers_can_weave:v}})(),[g,v]=(0,r.useState)(u),[p,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d&&E(!0)},[d]);let{layerProps:h,triggerProps:f,renderLayer:b}=(0,i.sJ)({isOpen:p});return r.createElement(r.Fragment,null,r.createElement(eU,{video:m,options:g,setOptions:v,originalOptions:u,onOpenDefaultsModal:()=>{let e=document.body.style;e.top=`-${window.scrollY}px`,e.position="fixed",E(!0),c.track(a.jKy)},onCloseVideoSettingsDrawer:e,isInVideoSetting:!0,pageTitle:t,settingsIsInEditTab:n}),p&&r.createElement("div",{style:{position:"absolute",...f.style},...f},b(r.createElement("div",{...h,style:{zIndex:"1"}},r.createElement(eq,{video:m,currentSettings:g,updateCurrentSettings:v,onCloseDefaultsModal:()=>{let e=document.body.style,t=e.top;e.position="",e.top="",window.scrollTo(0,-1*parseInt(t||"0")),E(!1)}})))))}},72995:function(e,t,n){"use strict";n.d(t,{WB:function(){return h},wK:function(){return y}});var a=n(70276),l=n(20887),r=n(16175),i=n(93919),o=n(32910),s=n.n(o),c=n(16032),d=n(32950),m=n(28537),u=n(58453),g=n(50679),v=n(24790),p=n(36897),E=n(21190);let h={color:"white",background_color:"orange",location:"Top right",border_radius:24,only_show_at_end_of_video:!1},f={"Top left":"top-left","Top right":"top-right","Bottom left":"bottom-left","Bottom right":"bottom-right"},b="Link text";function _(e){return e?f[e]:"top-right"}function y(e){if(e?.border_radius!==void 0&&e?.border_radius!==null)return e.border_radius;let t=(0,E.bM)(r.s8);return null!=t&&"number"==typeof(t=Number(t))?t:h.border_radius}function k(e){let t=e?.color||(0,E.bM)(r.aE)||(0,v.RvU)(h.color),n=e?.background_color||(0,E.bM)(r.w0)||(0,v.RvU)(h.background_color),a=y(e),l=e?.location||(0,E.bM)(r.x1)||h.location;return{color:t,background_color:n,border_radius:a,location:l}}let w=e=>{let{ctaMods:t,ctaUrl:n,ctaText:a,onClickHandler:l,forceTopRight:r=!1}=e,{color:i,background_color:o,border_radius:c,location:d}=k(t),m=r?"top-right":_(d),g=a&&a.length>0,p=n&&n.length>0,E=g&&p?{href:n&&(n.indexOf("http")>-1?n:`//${n}`)}:{};return u.createElement(v.zxk,{className:s()("cta-button cta-button-in-form",m),target:n&&"_blank",href:E?.href,onClick:l,style:{color:i,backgroundColor:o,borderRadius:`${c}px`},hasFullWidth:!0,htmlTag:"a"},g?a:u.createElement("span",{className:"call-to-action-placeholder"},b))},C=e=>{let{ctaMods:t,ctaUrl:n,ctaText:a,onClickHandler:l,forceTopRight:r=!1}=e,{color:i,background_color:o,border_radius:c,location:d}=k(t),m=r?"top-right":_(d),g=a&&a.length>0,v=n&&n.length>0,p=g&&v?{href:n&&(n.indexOf("http")>-1?n:`//${n}`)}:{};return u.createElement("a",{className:s()("cta-button cta-button-in-form",m),target:n&&"_blank",rel:"noopener noreferrer",onClick:l,style:{color:i,backgroundColor:o,borderRadius:`${c}px`},size:a?a.length:0,...p},g?a:u.createElement("span",{className:"call-to-action-placeholder"},b))};t.ZP=(0,g.$j)((e,t)=>{let{cta_mods:n,cta_text:a,cta_url:l}=e.share_video||{},{from_public_share_page:r,is_inline_embed_on_loom:o,parent_location:s}=e.video_player||{};return{ctaMods:n,ctaText:a,ctaUrl:(0,i.N)(l),from_public_share_page:r,is_inline_embed_on_loom:o,parent_location:s,onClick:t.onClick}})(({ctaMods:e,ctaText:t,ctaUrl:n,from_public_share_page:r,is_inline_embed_on_loom:i,onClick:o,parent_location:s})=>{let g=(0,c.useCurrentUserSelector)(e=>e.id,void 0),{video:{id:v,owner:{id:E}}}=(0,m.dPl)(),h={ctaMods:e,ctaText:t,ctaUrl:n,onClickHandler:()=>{o&&o(),p.track(l.p91,{from_public_share_page:r,is_inline_embed_on_loom:i,parent_location:s,video_id:v,owner_id:E,owner_click:E===g})}};return u.createElement(u.Fragment,null,u.createElement(d.z,{query:`(max-width: ${a.I0}px)`},u.createElement(w,{...h})),u.createElement(d.z,{query:`(min-width: ${a.Sx}px)`},u.createElement(C,{...h})))})},52796:function(e,t,n){"use strict";var a=n(1779),l=n(58453),r=n(77273),i=n(24790);class o extends l.Component{constructor(){super(...arguments),this.state={dragging:!1},this.handleDrop=e=>{this.setState({dragging:!1}),this.props.onDrop(e)}}render(){let{multiple:e=!1}=this.props,{dragging:t}=this.state;return l.createElement(r.Z,{className:"share-page-dropzone",disableClick:!0,multiple:e,disabled:!1,activeStyle:{zIndex:1e3,position:"absolute"},onDragEnter:()=>this.setState({dragging:!0}),onDragLeave:()=>this.setState({dragging:!1}),onDrop:this.handleDrop},l.createElement(l.Fragment,null,t&&l.createElement("div",{className:"share-page-drag-and-drop-overlay"},l.createElement("div",{className:"drag-and-drop-overlay-content p:xlarge"},l.createElement("div",{className:"flex pb:xlarge justify:center"},l.createElement(a.r,{color:"var(--lns-color-white)",size:13})),l.createElement(i.xvT,{size:"xxlarge",color:"white",fontWeight:"bold",alignment:"center"},"Drop here!")))))}}t.Z=o},83895:function(e,t,n){"use strict";let a;n.d(t,{AE:function(){return m},E3:function(){return d},b$:function(){return o},h$:function(){return s},rw:function(){return i},wK:function(){return c}});var l=n(20887),r=n(36897);let i=e=>r.track(l.xtc,{videoId:e}),o=()=>r.track(l.t9H,{videoId:a}),s=()=>r.track(l.EKp,{videoId:a}),c=()=>r.track(l.Cjz,{videoId:a}),d=()=>r.track(l.FRC,{videoId:a}),m=(e={})=>r.track(l.zRL,{videoId:a,...e})},36197:function(e,t,n){"use strict";n.d(t,{Dg:function(){return y},UZ:function(){return T},Wd:function(){return C},iF:function(){return I},uV:function(){return w}});var a=n(32910),l=n.n(a),r=n(52131),i=n(5945),o=n(58453),s=n(50679),c=n(63598),d=n(28402),m=n(24790),u=n(57265),g=n(15291),v=n(12744),p=n(63432),E=n(90898),h=n(14866),f=n(94181),b=n(59013);let{secondsToVideoTS:_}=v,y=({user:e={avatar:null,name:null},events:t=[]})=>{let n=t.filter(e=>["comment","reply"].includes(e.type)),a=t.filter(e=>"reaction"===e.type);return o.createElement("article",{className:b.Z.viewerInfo},o.createElement(w,{avatar:e.avatar,name:e.name}),o.createElement("div",null,o.createElement(C,{...e}),o.createElement(f.Z,{name:p.L7},o.createElement(m.yeS,{gap:"medium",alignment:"center"},o.createElement(k,{type:"comment",items:n||[]}),o.createElement(k,{type:"reaction",items:a||[]})))))},k=({type:e,items:t=[]})=>{let n=t.length,a="comment"===e?u.j:g.x;return o.createElement(m.yeS,{alignment:"center",gap:"xsmall"},o.createElement(m.JO$,{icon:o.createElement(a,null),size:2,color:"bodyDimmed"}),o.createElement(m.xvT,{color:"bodyDimmed"},n))},w=e=>{let t=e.avatar&&(0,c.FQ)(e.avatar),n=name,a=n!==E.Iv&&n;return o.createElement(i.Z,{avatarSize:e.size??4,avatarSrc:t,name:a,"data-test-id":t||a?void 0:"test-anonAvatar"})},C=e=>o.createElement("div",null,o.createElement(m.xvT,{fontWeight:"bold",htmlTag:"h3"},e.name?e.name:"Anonymous")),T=e=>o.createElement(o.Fragment,null,e.views.map((e,t)=>{let n=Number(e),a=(0,d.VR)(n,"MMMM do, yyyy h:mma");return o.createElement(m.xvT,{variant:"body",key:t},o.createElement("time",null,a))})),x=({emojiIcon:e,evt:t,action:n,playVideoAt:a})=>o.createElement("div",{className:l()(b.Z.eventItem,b.Z.isClickable),onClick:a(t.ts)},e,n,o.createElement("time",null,_(t.ts))),S=({label:e,emojiUnicode:t})=>o.createElement("span",{className:b.Z.emoji,"aria-label":e},t),I=({events:e=[]})=>{let t=(0,s.I0)(),{getEmojiUnicodeByName:n}=(0,r.C)(),a={comment:"Commented at",reaction:"Reacted at",reply:"Replied at"};if(!e.length)return null;let l=e=>()=>{t((0,h.Yk)(e))};return o.createElement("div",{className:"px:small py:medium bgc:backgroundSecondary radius:medium"},o.createElement("div",{className:"px:small mb:small"},o.createElement(m.xvT,{fontWeight:"bold"},"Activity")),[...e].sort(A).map((e,t)=>{let r=a[e.type],i="Reacted at"===r,s=i?function({getEmojiUnicodeByName:e,action:t,evt:n}){let a=n.content,l=`${t} ${_(n.ts)}`;return o.createElement(S,{label:l,emojiUnicode:e(a)})}({getEmojiUnicodeByName:n,action:r,evt:e}):null;return i&&null===s?null:o.createElement(x,{key:t,emojiIcon:s,evt:e,action:r,playVideoAt:l})}))};function A({ts:e},{ts:t}){return e>t?1:t>e?-1:0}},65922:function(e,t,n){"use strict";n.d(t,{CX:function(){return o},DD:function(){return r},k7:function(){return d},tX:function(){return c},wp:function(){return s},wu:function(){return i}});var a=n(15051);let l=e=>e.editor,r=(0,a.P1)(l,e=>e.thumbnail_flow),i=(0,a.P1)(l,e=>e?.cta_flow),o=(0,a.P1)(l,e=>e?.thumbnail_data.thumbnail_local),s=(0,a.P1)(l,e=>e?.thumbnail_data.uploading),c=(0,a.P1)(l,e=>e?.thumbnail_data.initiate_save),d=(0,a.P1)(l,e=>e?.thumbnail_data.og_dims)},80110:function(e,t,n){"use strict";n.d(t,{H:function(){return i},S:function(){return r}});var a=n(15051);let l=e=>e.trimming,r=(0,a.P1)(l,e=>e.in_trim_mode),i=(0,a.P1)(l,e=>e.showExitWarning)},78198:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var a=n(58453),l=n(51155),r=n(24790);function i({addButton:e=!0,children:t,colorSelected:n,defaultColor:i="#ffffff",forceClose:o=!1,id:s="",position:c="top-center",rootContainer:d,swatches:m}){let[u,g]=(0,a.useState)(!1),{triggerProps:v,layerProps:p,renderLayer:E}=(0,l.sJ)({isOpen:u&&!o,triggerOffset:10,placement:c,onOutsideClick:()=>{g(!1)},onParentClose:()=>{g(!1)},auto:!0,snap:!0,container:d}),[h,f]=(0,a.useState)(i),b={...p,style:{...p.style,zIndex:1}};return a.createElement(a.Fragment,null,a.createElement("span",{...v},a.createElement("div",{onClick:()=>g(!u)},t)),u&&!o?E(a.createElement("div",{...b},a.createElement(r.zH8,{id:s,onChange:t=>e?f(t):n(t),defaultColor:i,confirmButton:e&&a.createElement(r.zxk,{variant:"primary",size:"small",hasFullWidth:!0,onClick:()=>{n(h),g(!1)}},"Use this color"),swatches:m}))):null)}},1779:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var a=n(58453);function l({size:e,color:t="currentColor"}){return a.createElement("svg",{width:8*e,height:8*e,viewBox:"0 0 56 56",fill:"none"},a.createElement("path",{d:"M56 21.328V0H34.672v5.56h11.834L30.779 21.288V9.453h-5.56v11.834L9.492 5.561h11.836V0H0v21.328h5.56V9.492L21.288 25.22H9.453v5.56h11.834L5.561 46.506V34.672H0V56h21.328v-5.56H9.492L25.22 34.71v11.837h5.56V34.71l15.727 15.728H34.672V56H56V34.672h-5.56v11.834L34.712 30.779h11.834v-5.56H34.713L50.439 9.492v11.836H56z",fill:t}))}},73163:function(e,t,n){"use strict";var a=n(58453),l=n(24790),r=n(57497);t.Z=({size:e=2})=>a.createElement(a.Fragment,null,a.createElement(l.W20,{backgroundColor:"background",radius:"full"},a.createElement(l.W20,{backgroundColor:"highlight",radius:"full",padding:"xsmall"},a.createElement(l.xMy,{alignment:"center"},a.createElement(l.JO$,{icon:a.createElement(r.X,{color:"#4B42AD"}),size:e})))))},39362:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var a=n(58453),l=n(24790),r=n(63200),i=n(30079),o=n(29606);let s=({children:e,footer:t,title:n,goBackToEditPage:s,backupTitleComponent:c,settingsIsInEditTab:d=!1})=>{let m=(0,o.n)(),u=d?`calc(${i.IB} - ${m}px)`:i.IB;return a.createElement(l.ggW,{autoFlow:"row",rows:["auto","1fr","auto"],justifyContent:"stretch",height:u},n?a.createElement(l.W20,{paddingLeft:"medium",paddingTop:"medium",paddingBottom:"small"},a.createElement(l.ggW,{gap:"small"},a.createElement(l.hU,{icon:a.createElement(r.C,null),onClick:s,altText:"Go Back To Edit Page"}),a.createElement(l.xvT,{fontWeight:"bold",size:"large"},n))):a.createElement(a.Fragment,null,c),a.createElement(l.W20,{paddingX:"large",paddingY:"small",height:"100%",overflow:"auto"},e),t)}},30079:function(e,t,n){"use strict";n.d(t,{IB:function(){return o},YS:function(){return r},oh:function(){return i}});var a,l=n(95106),r=((a=r||{}).Activity="Activity",a.Transcript="Transcript",a.Views="Views",a.Edit="Edit",a.Settings="Settings",a);let i=425,o=`calc(100vh - ${l.v})`},78007:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var a=n(92714),l=n(58453);let r=a.Z.div`
  background: var(--lns-color-background);
  width: 100%;
  height: 72px;
  align-self: end;
`,i=a.Z.div`
  background: var(--lns-color-background);
  display: flex;
  justify-content: space-around;
  align-items: center;
  gap: 16px;
  padding: 18px 24px;
  width: 100%;
  box-shadow: 0 -1px 0 var(--lns-color-border);
`,o=({children:e})=>l.createElement(r,null,l.createElement(i,null,e))},12162:function(e,t,n){"use strict";n.d(t,{T:function(){return eS}});var a=n(58453),l=n(50679),r=n(54437),i=n(24790),o=n(55238),s=n(43669),c=n(20887),d=n(16175),m=n(28537),u=n(18021),g=n(33122),v=n(44588),p=n(58216),E=n(76559),h=n(62508),f=n(83034),b=n(10669),_=n(25051),y=n(53120),k=n(95796),w=n(55040),C=n(62527),T=n(14866),x=n(60154),S=n(15582),I=n(36897),A=n(21190),N=n(72995),W=n(83445),P=n(81504);let F={},L=(0,W.Ps)`
    mutation ApproveAutoCta($videoId: ID!) {
  approveAutoCta(videoId: $videoId) {
    __typename
    ... on ApproveAutoCtaPayload {
      approved_at
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `;var $=n(46158),B=n(55986),V=n(53661),z=n(39362),D=n(78007),R=n(78198),O=n(82098),M=n(30495),Z=n(3918);let U=[{value:"Bottom left",title:"Bottom left"},{value:"Bottom right",title:"Bottom right"},{value:"Top left",title:"Top left"},{value:"Top right",title:"Top right"}];var Y=n.p+"img/rainbow-oval-f67a03bfce0230e2a9c1.png",j=n(12785),q=n(28886);function H({ctaUrl:e,videoId:t}){let n=y.wG.test(e),{isOwnerInCalendlySegment:l}=(0,j.e)(t,n);return a.createElement(a.Fragment,null,l?a.createElement(i.LZC,{top:"medium"},a.createElement(i.W20,{backgroundColor:"backgroundSecondary",padding:2,gap:2,radius:"large",htmlTag:"section"},a.createElement(i.ggW,{gap:"small"},a.createElement(i.JO$,{icon:a.createElement(q.L,null)}),a.createElement(i.xvT,{isDimmed:!0},"Your Calendly will appear at the end of the video")))):null)}let G="Yikes! Doesn’t look like a valid color",K={Rounded:{value:24,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12a9 9 0 019-9h9v2h-9a7 7 0 000 14h9v2h-9a9 9 0 01-9-9z",fill:"currentColor"})),null)},Squared:{value:0,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3h18v2H5v14h16v2H3V3z",fill:"currentColor"})),null)},"Slightly rounded":{value:8,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8a5 5 0 015-5h13v2H8a3 3 0 00-3 3v8a3 3 0 003 3h13v2H8a5 5 0 01-5-5V8z",fill:"currentColor"})),null)}},J=["#ff623e","#44c3c3","#ffc65c","#77c4ff","#f8f6f0","#212121","#ffffff"],Q="#FF623E",X="#FFFFFF",ee=e=>e===K["Slightly rounded"].value?"Slightly rounded":e===K.Squared.value?"Squared":"Rounded",et={url:"",text:"",location:N.WB.location,button_corner_style:ee(N.WB.border_radius),only_show_at_end_of_video:N.WB.only_show_at_end_of_video,color:X,background_color:Q},en=({videoId:e,onUrlChange:t,onTextChange:n,onLocationChange:l,onBackgroundColorChange:r,onColorChange:o,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:c,formProps:d,onSubmit:m})=>{let u=e=>{d.setValue("url",e),t(e)},v=e=>{d.setValue("text",e),n(e)},p=e=>{d.setValue("background_color",e),r(e)},E=e=>{d.setValue("color",e),o(e)},h=e=>{d.setValue("only_show_at_end_of_video",e),c(e)},f=()=>{let e=d.getValues().url,t=d.getValues().text,n=(0,g.V)(e);y.wG.test(e)&&(p("#006BFF"),E(X)),!t&&n&&v(n)},{brandLogoPath:b}=(0,O.e)({videoId:e});return(0,M.b)(f),a.createElement("div",null,a.createElement($.l0,{id:"cta-form",control:d.control,onSubmit:d.handleSubmit(m)},a.createElement($.gN,null,a.createElement($.Qy,{htmlFor:"url"},"Button link (URL)"),a.createElement($._s,{id:"url",name:"url",control:d.control,rules:{required:"Required",validate:e=>!!Z({apostrophes:!0,parens:!0,exact:!0,strict:!1,re2:!1}).test(e)||"Yikes! Doesn’t look like a valid URL"},onChange:e=>u(e.target.value),onBlur:f}),a.createElement($.Gy,{name:"url",control:d.control})),a.createElement(H,{ctaUrl:d.getValues().url,videoId:e}),a.createElement(i.LZC,{top:"medium"}),a.createElement($.gN,null,a.createElement($.Qy,{htmlFor:"text"},"Button text"),a.createElement($._s,{id:"text",name:"text",control:d.control,rules:{required:"Required"},onChange:e=>v(e.target.value)}),a.createElement($.Gy,{name:"text",control:d.control})),a.createElement(i.LZC,{top:"medium"}),a.createElement($.gN,null,a.createElement($.Qy,{htmlFor:"location"},"Button location"),a.createElement($.Wy,{id:"location",name:"location",control:d.control,rules:{required:"Required"},onChange:e=>{d.setValue("location",e),l(e)},options:b?U.filter(e=>"Top left"!==e.value):U,isDisabled:d.getValues().only_show_at_end_of_video}),a.createElement($.Gy,{name:"location",control:d.control})),a.createElement(i.LZC,{top:"medium"}),a.createElement($.gN,null,a.createElement(R.T,{defaultColor:Q,colorSelected:p,swatches:J,addButton:!1,position:"bottom-end"},a.createElement("div",{className:"picker-input"},a.createElement($.Qy,{htmlFor:"background_color"},"Button color"),a.createElement($._s,{id:"background_color",name:"background_color",control:d.control,rules:{required:"Required",validate:e=>!!(0,y.K_)(e)||G},onChange:e=>{p(e.target.value)}}),a.createElement("img",{src:Y,className:"picker-icon",alt:"picker icon"}),a.createElement($.Gy,{name:"background_color",control:d.control})))),a.createElement(i.LZC,{top:"medium"}),a.createElement($.gN,null,a.createElement(R.T,{defaultColor:X,colorSelected:E,swatches:J,addButton:!1,position:"bottom-end"},a.createElement("div",{className:"picker-input"},a.createElement($.Qy,{htmlFor:"color"},"Text color"),a.createElement($._s,{id:"color",name:"color",control:d.control,rules:{required:"Required",validate:e=>!!(0,y.K_)(e)||G},onChange:e=>{E(e.target.value)}}),a.createElement("img",{src:Y,className:"picker-icon",alt:"picker icon"}),a.createElement($.Gy,{name:"color",control:d.control})))),a.createElement(i.LZC,{top:"medium"}),a.createElement($.gN,null,a.createElement($.Qy,{htmlFor:"button_corner_style"},"Button corner style"),a.createElement($.Wy,{id:"button_corner_style",name:"button_corner_style",control:d.control,rules:{required:"Required"},onChange:e=>{d.setValue("button_corner_style",e),s(e)},options:Object.entries(K).map(([e,t])=>({value:e,title:e,icon:t?.icon}))}),a.createElement($.Gy,{name:"button_corner_style",control:d.control})),a.createElement(i.LZC,{top:"large"}),a.createElement($.gN,{variant:"horizontal"},a.createElement($.vE,{id:"only_show_at_end_of_video",name:"only_show_at_end_of_video",control:d.control,onChangeCapture:e=>{h(e.target.checked)}}),a.createElement($.Qy,{htmlFor:"only_show_at_end_of_video"},"Only show at end of video"))))},ea=e=>{let{url:t,text:n,location:a,button_corner_style:l,only_show_at_end_of_video:r,color:i,background_color:o}=e;return{url:t,text:n,mods:{location:a,border_radius:K[l].value,only_show_at_end_of_video:r,color:i,background_color:o}}},el=e=>{let{url:t,text:n,mods:a}=e,{location:l,border_radius:r,only_show_at_end_of_video:i,color:o,background_color:s}=a;return{url:t,text:n,location:l,background_color:s,color:o,button_corner_style:ee(r),only_show_at_end_of_video:i}};function er({onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:r,onColorChange:o,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:d,onSaveForVideo:m,goBackToEditPage:u,videoId:v,currentValues:p}){let{loading:E,value:h}=(0,V.T)(B.I.DEFAULT_CTA,{onCompleted:()=>w(y)}),f=(0,l.I0)(),{updateMemberProperty:b}=(0,V.A)(B.I.DEFAULT_CTA),_=h&&Object.keys(h).length>0,y=_?el(h):p,k=(0,$.cI)({mode:"onBlur",values:y}),w=n=>{e(n.url),t(n.text),f((0,C.lh)(ea(n).mods))},T=k.formState.isSubmitting||!k.formState.isValid;return E?a.createElement(z.O,{title:a.createElement(i.xvT,{fontWeight:"bold",size:"large"},"Set default link"),footer:a.createElement(a.Fragment,null),goBackToEditPage:u,settingsIsInEditTab:!1},a.createElement(i.aNw,null)):a.createElement(z.O,{title:a.createElement(i.xvT,{fontWeight:"bold",size:"large"},"Set default link"),footer:a.createElement(D.$,null,a.createElement(i.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:T,hasFullWidth:!0},"Save")),goBackToEditPage:()=>{w(et),u()},settingsIsInEditTab:!1},a.createElement(a.Fragment,null,a.createElement(i.xvT,{color:"bodyDimmed"},"Setting a default link will make the link automatically appear on all future Loom videos."),a.createElement(i.LZC,{top:"large"}),a.createElement(en,{videoId:v,onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:r,onColorChange:o,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:d,onSubmit:()=>{let{url:e,text:t,location:n,background_color:a,color:l,button_corner_style:r,only_show_at_end_of_video:i}=k.getValues();I.track(c.fQ4,{default_link:e,default_title:t,default_link_domain:(0,g.Q)(e)}),b({url:e,text:t,mods:{color:l,background_color:a,border_radius:K[r].value,location:n,only_show_at_end_of_video:i}}),m()},formProps:k}),a.createElement(i.LZC,{top:"small"}),a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"var(--lns-space-large)"}},a.createElement(i.zxk,{variant:"danger",isDisabled:!_,onClick:()=>{I.track(c.WIy,{videoId:v}),b({}),w(et),u()}},"Remove default link"))))}var ei=n(42445);function eo({goToDefaultPage:e,isDisabled:t}){return a.createElement(D.$,null,a.createElement(i.zxk,{onClick:e,hasFullWidth:!0},"Set default link"),a.createElement(i.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:t,hasFullWidth:!0},"Save"))}function es({isDisabled:e,onDelete:t,ctaEnabled:n}){return a.createElement(D.$,null,n&&a.createElement(i.zxk,{icon:a.createElement(ei.z,null),variant:"danger",isDisabled:e,onClick:t,hasFullWidth:!0},"Delete link"),a.createElement(i.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:e,hasFullWidth:!0},"Save"))}function ec({onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:l,onColorChange:r,onButtonCornerStyleChange:o,onOnlyShowAtEndOfVideoChange:s,goBackToEditPage:d,videoId:m,currentValues:u,pageTitle:g,showDefaultCta:v,ctaEnabled:p,setIsOnDefaultTab:E,onSave:h,onDelete:f}){let b=(0,$.cI)({mode:"onBlur",values:u}),_=b.formState.isSubmitting||!b.formState.isValid;return a.createElement(z.O,{title:g,settingsIsInEditTab:!1,footer:v?a.createElement(eo,{goToDefaultPage:()=>{I.track(c.bEX,{id:m}),E(!0)},isDisabled:_}):a.createElement(es,{isDisabled:_,onDelete:f,ctaEnabled:p}),goBackToEditPage:d},a.createElement(a.Fragment,null,a.createElement(en,{videoId:m,onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:l,onColorChange:r,onButtonCornerStyleChange:o,onOnlyShowAtEndOfVideoChange:s,onSubmit:h,formProps:b}),v&&p&&a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"var(--lns-space-large)"}},a.createElement(i.zxk,{icon:a.createElement(ei.z,null),variant:"danger",isDisabled:_,onClick:f},"Delete link"))))}let ed={ctaEnabled:!1,ctaText:"",ctaUrl:"",ctaMods:null};async function em({videoId:e,cta:t,setVideo:n,dispatch:a,showErrorBar:l}){try{let a=await (0,v.Z)(`/v1/videos/${e}`,{credentials:"include",headers:{[h.Jd]:b._R},method:"PATCH",body:JSON.stringify({cta:t})});if(a.status>=400)throw Error(`Oops! Error updating video cta - HTTP response: ${a.status}`);n({ctaEnabled:t.enabled,cta:(0,u.BO)(t)})}catch(e){p.warning(e,{message:"error in share page update video cta creator"}),a(l(s.pn,e.toString()))}}let eu=({showDefaultCta:e,isOnDefaultTab:t,goBackToEditPage:n,pageTitle:i,setIsOnDefaultTab:o})=>{let{ctaMods:s,ctaUrl:u,ctaText:v,ctaIsAuto:h,ctaApprovedAt:b}=(0,l.v9)(x.c3),W=(0,l.v9)(x.tV),$=(0,l.v9)(x.r7),[B]=(0,a.useState)(h?u:""),[V]=(0,a.useState)(h?(0,g.V)(u):""),[z]=(0,a.useState)({ctaText:v,ctaUrl:u,ctaMods:s}),D=(0,l.I0)(),{setVideo:R,video:{id:O,videoProperties:{playableDuration:M}}}=(0,m.dPl)(),Z=(0,l.v9)(S.v9),[U]=(0,a.useState)(Z);(0,a.useEffect)(()=>(s?.only_show_at_end_of_video?D((0,T.Aq)(M)):D((0,T.Aq)(U)),()=>{D((0,T.Aq)(U))}),[s?.only_show_at_end_of_video,D,U,M]),(0,a.useEffect)(()=>{s||D((0,C.lh)({background_color:(0,A.bM)(d.w0)||Q,color:(0,A.bM)(d.aE)||X,border_radius:(0,N.wK)(s),location:(0,A.bM)(d.x1)||N.WB.location,only_show_at_end_of_video:(0,A.bM)(d.rW)||N.WB.only_show_at_end_of_video}))},[s,D]);let Y={url:u||"",text:v||"",location:s?.location||(0,A.bM)(d.x1)||N.WB.location,background_color:s?.background_color||(0,A.bM)(d.w0)||Q,color:s?.color||(0,A.bM)(d.aE)||X,button_corner_style:ee((0,N.wK)(s)),only_show_at_end_of_video:s?.only_show_at_end_of_video||(0,A.bM)(d.rW)||N.WB.only_show_at_end_of_video},[j]=function(e){let t={...F,...e};return P.D(L,t)}({variables:{videoId:O},onCompleted:e=>{e?.approveAutoCta?.__typename!=="ApproveAutoCtaPayload"&&p.error(e?.approveAutoCta?.message??"Couldn't approve auto cta",{message:"Unable to approve auto cta"},{feature:_.L0.CtaLinks})},onError:e=>{p.error(e,{message:"Unable to approve auto cta"},{feature:_.L0.CtaLinks})}}),q=(0,a.useCallback)(({ctaEnabled:e,ctaText:t,ctaUrl:n,ctaMods:a})=>{D((0,C.lo)(e)),D((0,C.op)(t)),D((0,C.R_)(n)),D((0,C.lh)(a))},[D]),H=(0,a.useCallback)(()=>{q({ctaEnabled:W,ctaText:z.ctaText,ctaUrl:z.ctaUrl,ctaMods:z.ctaMods}),D((0,r.bl)()),n()},[W,D,n,z.ctaMods,z.ctaText,z.ctaUrl,q]),G=(0,a.useCallback)(e=>{let t=u!==z.ctaUrl,a=h?v!==V:v!==z.ctaText,l=h;h&&(t||a)?((0,E.v3)(`${f.Km}.modified`,{urlChanged:t,textChanged:a}),D((0,C.jQ)(!1)),l=!1):h&&((0,E.v3)(`${f.Km}.approved`),j()),D((0,C.lo)(!0)),em({videoId:O,cta:{enabled:!0,text:v,url:u,mods:s,approved_at:b,is_auto:l},dispatch:D,setVideo:R,showErrorBar:w.o}),D((0,r.bl)()),e&&I.track(c.fQ4,{ctaMods:s,suggested_link:B,suggested_title:V,user_entered_link:t?u:null,user_entered_title:a?v:null});let i=y.wG.test(u);D((0,k.Bh)(i?"Calendly link saved!":"Link saved")),D((0,T.zn)($)),n()},[j,b,h,s,v,u,D,n,z.ctaText,z.ctaUrl,R,B,V,$,O]),J=(0,a.useCallback)(()=>{q(ed),em({videoId:O,cta:{enabled:ed.ctaEnabled,text:ed.ctaText,url:ed.ctaUrl,mods:ed.ctaMods},dispatch:D,setVideo:R,showErrorBar:w.o}),D((0,r.bl)()),D((0,k.Bh)("Call-to-action deleted")),n(),D((0,T.zn)($))},[D,n,q,R,$,O]),et=(0,a.useCallback)(e=>{D((0,C.R_)(e))},[D]),en=(0,a.useCallback)(e=>{D((0,C.op)(e))},[D]),ea=(0,a.useCallback)(e=>{D((0,C.lh)({...s,location:e})),(0,A.Ly)(d.x1,e)},[s,D]),el=(0,a.useCallback)(e=>{D((0,C.lh)({...s,background_color:e})),(0,A.Ly)(d.w0,e)},[s,D]),ei=(0,a.useCallback)(e=>{D((0,C.lh)({...s,color:e})),(0,A.Ly)(d.aE,e)},[s,D]),eo=(0,a.useCallback)(e=>{let t=K[e].value;D((0,C.lh)({...s,border_radius:t})),(0,A.Ly)(d.s8,t)},[s,D]),es=(0,a.useCallback)(e=>{D((0,C.lh)({...s,only_show_at_end_of_video:e})),(0,A.Ly)(d.rW,e)},[s,D]);return e&&t?a.createElement(er,{goBackToEditPage:H,onSaveForVideo:()=>G(!1),onUrlChange:et,onTextChange:en,onLocationChange:ea,onBackgroundColorChange:el,onColorChange:ei,onButtonCornerStyleChange:eo,onOnlyShowAtEndOfVideoChange:es,videoId:O,currentValues:Y}):a.createElement(ec,{goBackToEditPage:H,onSave:()=>G(!0),onUrlChange:et,onTextChange:en,onLocationChange:ea,onBackgroundColorChange:el,onColorChange:ei,onButtonCornerStyleChange:eo,onOnlyShowAtEndOfVideoChange:es,videoId:O,currentValues:Y,pageTitle:i,ctaEnabled:W,setIsOnDefaultTab:o,onDelete:J,showDefaultCta:e})};var eg=n(86728),ev=n(79790),ep=n(1779),eE=n(49593),eh=n.n(eE),ef=n(63598),eb=n(23117),e_=n(65922),ey=n(52796),ek=n(66175),ew=n(79497);let eC=({goBackToEditPage:e,pageTitle:t})=>{let n=(0,l.I0)(),{video:{thumbnails:o}}=(0,m.dPl)(),c=(0,l.v9)(e_.CX),d=(0,l.v9)(e_.wp),u=(0,l.v9)(e_.DD),{removeVideoThumbnail:g}=(0,ek.r)(),p=()=>{g(),n((0,r.c_)(null))},E=(0,a.useCallback)(e=>{let t=new FileReader;t.onload=e=>{let t=e?.target?.result,a=new Image;a.onload=()=>{n((0,r.c_)({url:t,dims:{width:a.width,height:a.height}}))},a.src=t},t.readAsDataURL(e)},[n]),h=e=>{e&&E(e)},f=e=>{let{files:t}=e.target;if(t&&t.length){let e=t[0];h(e)}e.target.value=""},b=e=>{e.stopPropagation()},_=()=>{if(c){n((0,r.lZ)());return}document.querySelector("#upload-thumbnail-file")?.click()};return(0,a.useEffect)(()=>(eh().bind(eg.IP,()=>{n((0,r.c_)(null)),n((0,r.m)())},ev.R),()=>{eh().unbind(eg.IP,ev.R)}),[n]),(0,a.useEffect)(()=>{let e=(o||{})[eb.it];if(!e)return;let t=(0,ef.Qo)(e);t&&(0,v.Z)(t).then(e=>{if(!e.ok)throw Error("Failed to fetch current thumbnail");return e.blob()}).then(e=>{E(e)}).catch(()=>{n((0,w.o)(s.pn,"Oops! failed to fetch current thumbnail, please delete current thumbnail to upload new image"))})},[n,E,o]),(0,a.useEffect)(()=>{u||e()},[u,e]),a.createElement(z.O,{footer:a.createElement(()=>a.createElement(D.$,null,c&&a.createElement(i.zxk,{variant:"danger",icon:a.createElement(ei.z,null),onClick:p,hasFullWidth:!0},"Delete"),a.createElement(i.zxk,{variant:"primary",isDisabled:d,onClick:_,hasFullWidth:!0},c?"Save":"Browse"),a.createElement("input",{type:"file",className:"upload-thumbnail-input",id:"upload-thumbnail-file",onClick:b,onChange:f,accept:"image/jpeg,image/pjpeg,image/png"})),null),title:t,goBackToEditPage:()=>{n((0,r.c_)(null)),n((0,r.m)()),e()}},a.createElement("div",{style:{position:"relative",marginTop:"var(--lns-space-small)"}},a.createElement("div",{className:"dropzone-wrapper"},a.createElement(ey.Z,{multiple:!1,onDrop:e=>{let t=e[0];t&&h(t)}})),a.createElement("div",{className:"thumbnail-dropzone-area"},a.createElement("div",{className:"mb:small"},a.createElement(ep.r,{color:"var(--lns-color-orangeDark)",size:6})),a.createElement(i.xvT,null,"Drag and drop to upload"),a.createElement(i.xvT,{size:"small",color:"bodyDimmed"},(0,ew.T)())),c&&a.createElement(i.W20,{paddingY:"medium"},a.createElement(i.ggW,{autoFlow:"row",justifyContent:"center"},a.createElement(i.xvT,{alignment:"center"},"Adjust positioning and zoom"),a.createElement(i.xvT,{alignment:"center",size:"small"},"Delete to use a different thumbnail")))))};var eT=n(61259);let ex=({currentPage:e,goBackToEditPage:t,pageTitle:n,showDefaultCta:l})=>{let[r,i]=a.useState(!1);switch(e){case o.L.Link:return a.createElement(eu,{goBackToEditPage:t,isOnDefaultTab:r,pageTitle:n,setIsOnDefaultTab:i,showDefaultCta:l??!1});case o.L.Thumbnail:return a.createElement(eC,{goBackToEditPage:t,pageTitle:n});case o.L.Settings:return a.createElement(eT.Y,{goBackToEditPage:t,pageTitle:n});default:return a.createElement(a.Fragment,null)}},eS=({currentPage:e,onClose:t,pageTitle:n,showDefaultCta:s})=>{let c=(0,l.I0)();return a.createElement(i.ggW,{height:"inherit",justifyContent:"stretch",style:{overflow:"auto"}},a.createElement(ex,{currentPage:e,goBackToEditPage:()=>{e===o.L.Link&&c((0,r.bl)()),t()},pageTitle:n,showDefaultCta:s}))}},66175:function(e,t,n){"use strict";n.d(t,{r:function(){return h}});var a=n(43669),l=n(20887),r=n(28537),i=n(18021),o=n(50679),s=n(44588),c=n(58216),d=n(62508),m=n(10669),u=n(95796),g=n(55040),v=n(62527),p=n(81280),E=n(36897);let h=()=>{let{setVideo:e,video:{id:t}}=(0,r.dPl)(),n=(0,o.I0)();return{removeVideoThumbnail:()=>{(0,s.Z)(`/v1/videos/${t}`,{method:"PATCH",headers:{[d.Jd]:m._R},credentials:"include",body:JSON.stringify({thumbnails:null})}).then(e=>{if(e.status>=400)throw Error(`got a bad response status: ${e.status}`);return n((0,u.Bh)("Thumbnail deleted")),E.track(l.m3R,{video_id:t}),e.json()}).then(t=>{e((0,i.TW)(t)),n((0,v.jE)(t)),n((0,p.l)(t))}).catch(e=>{n((0,g.o)(a.pn,"Oops! Failed to remove video thumbnail.")),c.warning(`Error in PATCH to /v1/videos/thumbnail: ${e.message}`,e)})}}}},4e3:function(e,t,n){"use strict";n.d(t,{a:function(){return f}});var a=n(29903),l=n(28537),r=n(18021),i=n(58453),o=n(50679),s=n(44588),c=n(58216),d=n(62508),m=n(10669),u=n(25051),g=n(95796),v=n(62527),p=n(14866),E=n(81280),h=n(15582);let f=()=>{let{setVideo:e,video:{id:t}}=(0,l.dPl)(),n=(0,o.I0)(),{password:f}=(0,a.u)(),b=(0,o.v9)(h.v9),_=(0,i.useCallback)(async({newSettings:a,refetchSourceUrl:l})=>{if(null!=t)try{let i=await (0,s.Z)(`/v1/videos/${t}`,{credentials:"include",headers:{[d.Jd]:m._R},method:"PATCH",body:JSON.stringify({...a,password:f})});i.status>=400&&(n((0,g.Bh)("Please reload and try again")),c.warning(`Failed to update video settings for video ${t} - HTTP response: ${i.status}`,{feature:u.L0.VideoSettings}));let o=await i.json();e((0,r.TW)(o)),n((0,v.jE)(o)),n((0,p.OK)()),l&&(n((0,E.Z)({videoId:t})),n((0,p.Aq)(b)))}catch(e){c.error(e,{message:`Failed saving video settings: ${e}`,isDefault:!1},{feature:u.L0.VideoSettings})}},[n,f,e,b,t]);return{updateVideoSettings:_}}},79497:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});let a=[{value:1,ratio:"1:1",dimensions:"1080 ✕ 1080"},{value:4/3,ratio:"4:3",dimensions:"1024 ✕ 768"},{value:16/9,ratio:"16:9",dimensions:"1920 ✕ 1080"},{value:2,ratio:"18:9",dimensions:"2160 ✕ 1080"},{value:21/9,ratio:"21:9",dimensions:"2560 ✕ 1080"}],l=a[2],r=(e,t)=>`Recommend ${e} or ${t} files in .png or .jpg`,i=()=>{let e=document.getElementsByClassName("videoFrame")[0];if(e){let t=e.getBoundingClientRect(),n=function(e){let t=l,n=1/0;for(let l of Object.values(a)){let a=Math.abs(e-l.value);a<n&&(n=a,t=l)}return t}(t.width/t.height);return r(n.dimensions,n.ratio)}return r(l.dimensions,l.ratio)}},10164:function(e,t,n){"use strict";n.d(t,{D3:function(){return o}});var a=n(83445),l=n(55684);let r={},i=(0,a.Ps)`
    query GetIntegrationActiveStatus($integrationType: String!) {
  getIntegrationActive(integrationType: $integrationType) {
    ... on GetIntegrationActivePayload {
      isActive
    }
  }
}
    `;function o(e){let t={...r,...e};return l.a(i,t)}},29606:function(e,t,n){"use strict";n.d(t,{a:function(){return l},n:function(){return a}});let a=()=>{let e=document.getElementById("right-panel-tabs");return e?.getBoundingClientRect().height||0},l=()=>{let e=document.getElementById("comments-tab-header");return e?.getBoundingClientRect().height||0}},9064:function(e,t,n){"use strict";let a;n.d(t,{VR:function(){return nT},qZ:function(){return nk},XH:function(){return nS},iA:function(){return np},xm:function(){return nE},of:function(){return nu}});var l=n(70276),r=n(20887),i=n(16175),o=n(32910),s=n.n(o),c=n(32950),d=n(28537),m=n(50077),u=n(58453),g=n(24790),v=n(75769),p=n(49079);let E=e=>{let[t,n]=(0,u.useState)(0),a=(0,u.useCallback)(()=>{n(e=>e+1)},[]);return u.createElement(v.SV,{key:t,name:`[${e.tabName}]${p.j8.SidebarTabErrorBoundary}`,...e,renderError:()=>u.createElement(g.W20,{paddingY:"20vh"},u.createElement(v.B_,{text:`${e.tabName} not available`,CTAText:`Refresh ${e.tabName}`,handleCTAClick:a,showWarningIcon:!0}))})};var h=n(5383);let f=(0,h.r)(()=>Promise.all([n.e(554),n.e(876)]).then(n.bind(n,65048)).then(e=>({default:e.Transcript}))),b=()=>u.createElement(u.Suspense,{fallback:null},u.createElement(f,null));var _=n(45431),y=n(92245),k=n(56694),w=n(42691),C=n.n(w);let T=(0,h.r)(()=>Promise.all([n.e(8756),n.e(6520),n.e(8851),n.e(6089),n.e(7732),n.e(8246)]).then(n.bind(n,42382)).then(e=>({default:e.CommentsWithProvider}))),x=e=>u.createElement(u.Suspense,{fallback:null},u.createElement(T,{...e}));var S=n(6854),I=n(79944),A=n(16032),N=n(67053),W=n(29903),P=n(95401),F=n(55068),L=n(50518),$=n(58830),B=n.n($),V=n(50679),z=n(70211),D=n(18364),R=n(92228),O=n(59749),M=n(29005),Z=n(9181),U=n(97747),Y=n(54882),j=n(90064),q=n(76706),H=n(63432),G=n(95796),K=n(60154),J=n(86029),Q=n(82054),X=n(83445),ee=n(55684);let et={},en=(0,X.Ps)`
    query GetAudioVariablesEligibilityForVariablesEntryPoint($videoId: ID!) {
  determineAudioPersonalizationEligibility(videoId: $videoId) {
    ... on DetermineAudioPersonalizationEligibilityPayload {
      isEligible
      reason
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `;var ea=n(99474),el=n(48612),er=n(15825),ei=n(59176),eo=n(11224),es=n(83243),ec=n(64282);let ed=({icon:e,text:t,onEditClick:n})=>u.createElement("button",{className:"auto-applied-popover-button_aiAppliedMenuButton_1s3",onClick:n},u.createElement(g.JO$,{icon:e,className:"auto-applied-popover-button_aiAppliedIcon_1gF"}),t,u.createElement("span",{className:"auto-applied-popover-button_editText_16L"},"Edit")),em=({isAiTitleApplied:e,isAiChaptersApplied:t,isAiSummaryApplied:n,videoId:a,isDisabled:l,tooltipText:i})=>{let{focusDescriptionInput:o}=(0,el.Gq)(),{enterEditMode:c}=(0,er.K)(),{editChapters:d}=(0,ea.Jp)(),[m,v]=(0,u.useState)(!1),p=(0,u.useRef)(null);(0,g.t$X)(p,()=>v(!1));let E=!l&&!e&&!t&&!n;return E?null:u.createElement(u.Fragment,null,u.createElement("div",{ref:p},u.createElement(g.J2e,{isOpen:m&&!l,offset:1,placement:"bottomRight",content:u.createElement("div",{className:"auto-applied-popover-button_popoverContent_1_V"},u.createElement(g.W20,{backgroundColor:"background"},u.createElement(g.ggW,{autoFlow:"row",gap:"medium",justifyContent:"stretch"},e&&u.createElement(ed,{icon:u.createElement(D.K,null),text:"Title added",onEditClick:()=>{v(!1),c(er.p.AISidebar,a)}}),t&&u.createElement(ed,{icon:u.createElement(ei._,null),text:"Chapters added",onEditClick:()=>{v(!1),d({analyticsEventName:r.P9z,scrollIntoView:!0})}}),n&&u.createElement(ed,{icon:u.createElement(eo.b,null),text:"Summary added",onEditClick:()=>{v(!1),o()}}))))},u.createElement(g.ua7,{tabIndex:-1,content:i,isDisabled:!i},u.createElement("button",{className:s()({"auto-applied-popover-button_popoverButton_1-a":!0,"auto-applied-popover-button_isOpen_3u1":m,"auto-applied-popover-button_interactive_Fzo":!l,"auto-applied-popover-button_isDisabled_171":l}),onClick:()=>{l||v(!m)}},u.createElement(g.ggW,{gap:"xsmall"},u.createElement(g.JO$,{className:"auto-applied-popover-button_quickEditIcon_TBL",size:2,icon:u.createElement(ec.r,null)}),"Auto-applied",u.createElement(g.JO$,{className:"auto-applied-popover-button_chevronIcon_25T",size:2,icon:u.createElement(es.u,null)})))))))};var eu={upgradeLink:"edit-header_upgradeLink_3Ki",trialPill:"edit-header_trialPill_11D",headerBackground:"edit-header_headerBackground_2PA"};let eg=()=>u.createElement(g.ggW,{columns:["1fr","auto"],width:"100%"},u.createElement(g.ggW,{autoFlow:"row"},u.createElement(g.xvT,{size:"body-lg",fontWeight:"bold"},"Loom AI is generating..."),u.createElement(g.xvT,{size:"body-sm",color:"bodyDimmed"},"This usually takes a few seconds")),u.createElement(g.m9_,{animation:"spin 2s infinite steps(43) alternate",brand:"ai"})),ev=()=>u.createElement(g.ggW,{gap:"xsmall"},u.createElement(g.xvT,{size:"body-lg"},"Powered by"),u.createElement(g.xvT,{size:"body-lg",fontWeight:"bold"}," ","Loom AI"),u.createElement(g.xMy,{alignment:"topCenter"},u.createElement(g.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"}))),ep=()=>u.createElement(g.ggW,{autoFlow:"row"},u.createElement(g.ggW,{gap:"xsmall"},u.createElement(g.xvT,{size:"body-lg"},"Powered by"),u.createElement(g.xvT,{size:"body-lg",fontWeight:"bold"}," ","Loom AI"),u.createElement(g.xMy,{alignment:"topCenter"},u.createElement(g.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"})),u.createElement(g.W20,{paddingLeft:"xsmall"},u.createElement("div",{className:eu.trialPill,role:"button",onClick:()=>{}},u.createElement(g.xvT,{fontWeight:"bold"},"Trial")))),u.createElement(g.xvT,{size:"body-sm",color:"bodyDimmed"},u.createElement("a",{className:eu.upgradeLink,href:"/"},"Upgrade now")," ","to keep access to AI + Editing features")),eE=()=>u.createElement(g.ggW,{autoFlow:"row"},u.createElement(g.ggW,{gap:"xsmall"},u.createElement(g.xvT,{size:"body-lg"},"Get advanced AI and editing"),u.createElement(g.xMy,{alignment:"topCenter"},u.createElement(g.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"}))),u.createElement(g.xvT,{size:"body-sm",color:"bodyDimmed"},"Access AI-powered filler word removal, auto-drafting, video editing, and more on the Loom Business + AI Plan."," ",u.createElement("a",{className:eu.upgradeLink,href:"/"},"Upgrade now.")," ")),eh=()=>u.createElement(g.ggW,{autoFlow:"row"},u.createElement(g.xvT,{fontWeight:"bold"},"Loom AI not available on this video"),u.createElement(g.xvT,{size:"body-sm",color:"bodyDimmed"},"Some videos are not eligible for AI features. If you believe this was an error, please contact support.")),ef=({variant:e})=>u.createElement("div",{className:eu.headerBackground},u.createElement(g.xMy,{alignment:"centerLeft"},"ai-loading"===e&&u.createElement(eg,null),"ai"===e&&u.createElement(ev,null),"ai-trial"===e&&u.createElement(ep,null),"no-ai-access"===e&&u.createElement(eE,null),"ai-not-available"===e&&u.createElement(eh,null))),eb=({icon:e,title:t,rightOption:n,onClick:a,isDisabled:l,disabledTooltipText:r})=>u.createElement(g.ua7,{tabIndex:-1,content:r,isDisabled:!l||!r,placement:"bottomCenter"},u.createElement(g.W20,{className:s()({"edit-item_editItemButton_fsF":!0,"edit-item_isDisabled_2va":l}),onClick:l?void 0:a,padding:"small"},u.createElement(g.ggW,{columns:["auto","1fr","auto"],gap:"medium"},u.createElement(g.JO$,{icon:e}),u.createElement(g.xvT,null,u.createElement("div",{className:"edit-item_shorterLineHeight_Eg6"},t)),n)));var e_=n(75659);let ey=()=>u.createElement(g.W20,{radius:"large",paddingX:"medium",paddingY:"6px",backgroundColor:"disabledBackground",borderSide:"all"},u.createElement(g.JO$,{icon:u.createElement(e_.R,null),size:2})),ek=({icon:e,title:t})=>u.createElement(eb,{icon:e,title:t,rightOption:u.createElement(ey,null),isDisabled:!0});var ew={editPageButton:"edit-page-button_editPageButton_3tx",isDisabled:"edit-page-button_isDisabled_2Ym",mainText:"edit-page-button_mainText_2xb",subText:"edit-page-button_subText_1Yx",trimIcon:"edit-page-button_trimIcon_289"};let eC=({onClick:e,subText:t,isDisabled:n,tooltipText:a})=>u.createElement(g.ua7,{tabIndex:-1,content:a,placement:"bottomCenter",isDisabled:!a,isInline:!1},u.createElement("button",{className:s()({[ew.editPageButton]:!0,[ew.isDisabled]:n}),onClick:e,disabled:n},u.createElement(g.W20,{paddingTop:"small",paddingBottom:"small",paddingRight:"small",paddingLeft:.4,radius:"large",backgroundImage:n?void 0:"var(--lns-gradient-ai-secondary)",height:"100%",width:"100%"},u.createElement(g.xMy,{alignment:"center"},u.createElement(g.Pag,{justifyContent:"space-between",gap:1.6,width:"100%"},u.createElement(g.I7m,null,u.createElement(g.JO$,{icon:u.createElement(Z.c,null),className:ew.trimIcon})),u.createElement(g.I7m,{grow:1},u.createElement(g.Pag,{direction:"column",alignItems:"flex-start"},u.createElement(g.I7m,null,u.createElement("div",{className:ew.mainText},u.createElement(g.xvT,{alignment:"left",fontWeight:"bold"},"Edit and trim video"))),n?null:u.createElement(g.I7m,null,u.createElement("div",{className:ew.subText},u.createElement(g.xvT,{alignment:"left",color:"bodyDimmed"},t))))),u.createElement(g.I7m,null,u.createElement(g.JO$,{icon:u.createElement(R.n,null)}))))))),eT=({children:e,title:t,topRightOption:n})=>u.createElement(g.W20,{borderSide:"all",radius:"large",padding:"medium",backgroundColor:"background"},u.createElement(g.ggW,{gap:"small",autoFlow:"row",justifyContent:"stretch"},u.createElement(g.ggW,{autoFlow:"column",justifyContent:"space-between"},u.createElement(g.xvT,{size:"body-lg",fontWeight:"bold"},t),n),e));var ex=n(81504);let eS={},eI=(0,X.Ps)`
    mutation editTabBulkTrimVideo($videoId: ID!, $forceSave: Boolean!, $lastTrimId: ID!, $includeSilences: Boolean!, $includeFillers: Boolean!, $password: String) {
  bulkTrimClips(
    videoId: $videoId
    forceSave: $forceSave
    lastTrimId: $lastTrimId
    includeSilences: $includeSilences
    includeFillers: $includeFillers
    password: $password
  ) {
    ... on BulkTrimClipsPayload {
      removalCounts {
        fillerWords
        secondsOfSilence
      }
      removalWasPartial
      video {
        id
        playable_duration
        processing_information {
          trim_id
          trim_progress
          trim_ranges {
            from
            to
          }
          videoUploadValid
        }
      }
    }
    ... on ClipUpdateError {
      message
      reason
    }
    ... on Warning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function eA(e){let t={...eS,...e};return ex.D(eI,t)}let eN={},eW=(0,X.Ps)`
    mutation editTabUndoBulkTrimVideo($videoId: ID!, $forceSave: Boolean!, $lastTrimId: ID!, $includeSilences: Boolean!, $includeFillers: Boolean!, $password: String) {
  bulkUndoTrim(
    videoId: $videoId
    forceSave: $forceSave
    lastTrimId: $lastTrimId
    includeSilences: $includeSilences
    includeFillers: $includeFillers
    password: $password
  ) {
    ... on BulkUndoTrimPayload {
      video {
        id
        playable_duration
        processing_information {
          trim_id
          trim_progress
          trim_ranges {
            from
            to
          }
          videoUploadValid
        }
      }
    }
    ... on ClipUpdateError {
      message
      reason
    }
    ... on Warning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function eP(e){let t={...eN,...e};return ex.D(eW,t)}let eF={},eL=(0,X.Ps)`
    query getEditTabBulkTrimCounts($videoId: ID!, $password: String) {
  getIntelligenceStatus(videoId: $videoId, password: $password) {
    ... on GetIntelligenceStatusPayload {
      hasTrimmedSilences
      hasTrimmedFillerWords
      secondsOfSilenceTrimmed
      numberOfFillerWordsTrimmed
      processingInformation {
        trim_id
      }
    }
    ... on Error {
      message
    }
  }
}
    `,e$={},eB=(0,X.Ps)`
    query getEditTabVideoDetails($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      complete
      personalizationType
      cta {
        enabled
        url
        is_auto
      }
    }
    ... on PrivateVideo {
      id
      message
    }
    ... on VideoPasswordMissingOrIncorrect {
      id
      message
    }
  }
}
    `,eV={},ez=(0,X.Ps)`
    query getEditTabWorkspaceBillingDetails($workspaceId: ID!) {
  getWorkspaceBillingDetails(workspaceId: $workspaceId) {
    id
    billing_details {
      plan {
        id
        pure_trial
      }
    }
  }
}
    `,eD=(e,t,n,a)=>{let l=!1,r="Feature unavailable on this video";return!t||n?{hasAccess:l,reason:null}:(a&&e?.determineAudioPersonalizationEligibility?.__typename==="DetermineAudioPersonalizationEligibilityPayload"&&(l=!!e.determineAudioPersonalizationEligibility.isEligible,r=e.determineAudioPersonalizationEligibility.reason),{hasAccess:l,reason:r})},eR=e=>{if(e?.getIntelligenceStatus?.__typename!=="GetIntelligenceStatusPayload")return{hasTrimmedSilences:!1,secondsOfSilenceTrimmed:0,hasTrimmedFillerWords:!1,numberOfFillerWordsTrimmed:0};let t=e.getIntelligenceStatus.hasTrimmedSilences,n=e.getIntelligenceStatus.secondsOfSilenceTrimmed,a=e.getIntelligenceStatus.hasTrimmedFillerWords,l=e.getIntelligenceStatus.numberOfFillerWordsTrimmed;return{hasTrimmedSilences:t,secondsOfSilenceTrimmed:n,hasTrimmedFillerWords:a,numberOfFillerWordsTrimmed:l}};var eO=n(75382),eM=n(33122);let eZ=e=>{if(e?.getVideo?.__typename!=="RegularUserVideo")return{videoIsComplete:!1,videoHasAudioVariables:!1,isAutoLinkDetected:!1,autoLinkTitle:void 0};let t=e.getVideo.complete,n=e.getVideo.personalizationType===eO.at.Audio,{is_auto:a,url:l}=e.getVideo.cta,r=!!(a&&l),i=(0,eM.V)(l);return{videoIsComplete:t,videoHasAudioVariables:n,isAutoLinkDetected:r,autoLinkTitle:i}},eU=()=>((0,u.useEffect)(()=>(document.documentElement.style.setProperty("--svg-ai-gradient-primary","url(#svg-ai-gradient-primary-def)"),()=>{document.documentElement.style.removeProperty("--svg-ai-gradient-primary")}),[]),u.createElement("svg",{width:"0",height:"0",style:{display:"absolute"}},u.createElement("defs",null,u.createElement("linearGradient",{id:"svg-ai-gradient-primary-def"},u.createElement("stop",{offset:"0%",stopColor:"hsl(242, 88%, 66%)"}),u.createElement("stop",{offset:"39%",stopColor:"hsl(247, 78%, 72%)"}),u.createElement("stop",{offset:"61%",stopColor:"hsl(270, 64%, 72%)"}),u.createElement("stop",{offset:"100%",stopColor:"hsl(313, 67%, 68%)"})))));var eY=n(19168),ej=n(67396);let eq=({icon:e,text:t,isDisabled:n,tooltipText:a,onClick:l})=>u.createElement(g.ua7,{content:a,isDisabled:!a,placement:"bottomCenter",isInline:!1},u.createElement("button",{className:s()({workflows_workflowsButton_2y1:!0,workflows_isDisabled_3RX:n}),disabled:n,onClick:l},u.createElement(g.W20,{padding:1.5,radius:"large",backgroundImage:n?void 0:"var(--lns-gradient-ai-secondary)",height:"100%",width:"100%"},u.createElement(g.ggW,{autoFlow:"row",gap:"xsmall",justifyContent:"stretch"},u.createElement(g.ggW,{justifyContent:"space-between"},u.createElement(g.JO$,{icon:e,className:"workflows_icon_DCs"}),u.createElement("div",{className:"workflows_chevronIcon_1PP"},u.createElement(g.JO$,{icon:u.createElement(R.n,null)}))),u.createElement(g.xvT,{alignment:"left",fontWeight:"bold"},t))))),eH=({isDisabled:e,tooltipText:t,onDocumentClick:n,onMessageClick:a,onBugReportClick:l})=>u.createElement(g.ggW,{autoFlow:"row",gap:"small",justifyContent:"stretch"},u.createElement(g.xvT,null,"Use your video to generate a..."),u.createElement(g.ggW,{gap:1.5,justifyContent:"stretch",columns:["1fr","1fr","1fr"]},u.createElement(eq,{icon:u.createElement(j.E,null),text:"Document",onClick:n,isDisabled:e,tooltipText:t}),u.createElement(eq,{icon:u.createElement(ej.Y,null),text:"Message",onClick:a,isDisabled:e,tooltipText:t}),u.createElement(eq,{icon:u.createElement(eY.A,null),text:"Bug report",onClick:l,isDisabled:e,tooltipText:t}))),eG="Feature unavailable on this video",eK=({isLoading:e,hasError:t})=>e?"loading":t?"error":"success",eJ=({isTrialing:e,hasAnyAiScope:t,aiStatus:n})=>t?"loading"===n?"ai-loading":"error"===n?"ai-not-available":e?"ai-trial":"ai":"no-ai-access",eQ=({videoId:e,onAddLinkClick:t})=>{let n=(0,V.I0)(),{password:a}=(0,W.u)(),{lastTrimId:l}=(0,Q.L7)(),r=(0,N._)(),i=(0,V.v9)(K.tV),o=(0,V.v9)(K.e6),{isLoading:s,hasError:c,autoTitleGenerated:d,autoSummaryGenerated:m,autoChaptersGenerated:v,hasUserEditedTitle:p,hasUserEditedSummary:E,hasUserEditedChapters:h,transcriptAvailable:f,transcriptInProgress:b}=(0,I.K)(),y=(0,F.hP)(),{data:k,loading:w}=function(e){let t={...eV,...e};return ee.a(ez,t)}({variables:{workspaceId:y?.id},skip:!y?.id,onError:e=>{throw e},onCompleted:e=>{if(e?.getWorkspaceBillingDetails?.__typename!=="BillingEntity")throw Error("Billing details not found")}}),{data:C,loading:T,refetch:x}=function(e){let t={...e$,...e};return ee.a(eB,t)}({variables:{videoId:e,password:a},onError:e=>{throw e},onCompleted:e=>{if(e?.getVideo?.__typename!=="RegularUserVideo")throw Error(e?.getVideo?.message??"Video data not found")}}),{videoIsComplete:S,videoHasAudioVariables:$,isAutoLinkDetected:X,autoLinkTitle:ea}=eZ(C),{data:el,error:er}=(0,J.G)({variables:{videoId:e},skip:!!S||!e});(0,u.useEffect)(()=>{(el?.recordingCompleted||er?.message==="Video already completed")&&x()},[el,er,x]);let{data:ei,error:eo}=function(e){let t={...eF,...e};return ee.a(eL,t)}({variables:{videoId:e,password:a}}),es=!!eo,{hasTrimmedSilences:ec,secondsOfSilenceTrimmed:ed,hasTrimmedFillerWords:eu,numberOfFillerWordsTrimmed:eg}=eR(ei),[ev,{loading:ep}]=eA({variables:{videoId:e,includeSilences:!0,includeFillers:!1,password:a,lastTrimId:l,forceSave:!1},refetchQueries:[eL],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkTrimClips?.__typename!=="BulkTrimClipsPayload"||!e.bulkTrimClips.video){n((0,G.Bh)("Failed to remove silences. Please try again."));return}r(e.bulkTrimClips.video)}}),[eE,{loading:eh}]=eA({variables:{videoId:e,includeSilences:!1,includeFillers:!0,password:a,lastTrimId:l,forceSave:!1},refetchQueries:[eL],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkTrimClips?.__typename!=="BulkTrimClipsPayload"||!e.bulkTrimClips.video){n((0,G.Bh)("Failed to remove filler words. Please try again."));return}r(e.bulkTrimClips.video)}}),[e_,{loading:ey}]=eP({variables:{videoId:e,includeSilences:!0,includeFillers:!1,password:a,lastTrimId:l,forceSave:!1},refetchQueries:[eL],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkUndoTrim?.__typename!=="BulkUndoTrimPayload"||!e.bulkUndoTrim.video){n((0,G.Bh)("Failed to undo silence removal. Please try again."));return}r(e.bulkUndoTrim.video)}}),[ew,{loading:ex}]=eP({variables:{videoId:e,includeSilences:!1,includeFillers:!0,password:a,lastTrimId:l,forceSave:!1},refetchQueries:[eL],awaitRefetchQueries:!0,onCompleted:e=>{if(e?.bulkUndoTrim?.__typename!=="BulkUndoTrimPayload"||!e.bulkUndoTrim.video){n((0,G.Bh)("Failed to undo filler word removal. Please try again."));return}r(e.bulkUndoTrim.video)}}),{data:eS}=function(e){let t={...et,...e};return ee.a(en,t)}({variables:{videoId:e},skip:!(S&&f)}),{hasAccess:eI,reason:eN}=eD(eS,!!S,b,f),eW=(0,u.useMemo)(()=>k?.getWorkspaceBillingDetails?.billing_details?.plan?.pure_trial??!1,[k]),eO=(0,A.useCurrentUserSelector)(e=>e.scopes.includes(H.GX),!1),eM=(0,A.useCurrentUserSelector)(e=>e.scopes.includes(H.DI),!1),eY=(0,A.useCurrentUserSelector)(e=>e.scopes.includes(H.IS),!1),ej=(0,A.useCurrentUserSelector)(e=>e.scopes.includes(H.Ce),!1),eq=(0,A.useCurrentUserSelector)(e=>e.scopes.includes(H.Vu),!1),eQ=(0,A.useCurrentUserSelector)(e=>e.scopes.includes(H.XY),!1),eX=(0,A.useCurrentUserSelector)(e=>e.scopes.includes(H.gp),!1),e0=(0,A.useCurrentUserSelector)(e=>e.scopes.includes(H.Ce),!1),e1=(0,P.Pg)(),e2=ej||eq||eQ,e5=e2||eX,e9=eK({isLoading:s&&o,hasError:c}),e3=eJ({isTrialing:eW,hasAnyAiScope:e5,aiStatus:e9}),e4=ej&&d&&!p,e7=eq&&m&&!E,e8=eQ&&v&&!h,e6="loading"===e9||"error"===e9,te="loading"===e9?"Loom AI is still generating":"error"===e9?eG:void 0,tt=eY?"Edit using transcript & add clips":"Trim mistakes & add clips",tn=eh||ex,ta=tn||$||es,tl=ep||ey,tr=tl||$||es,ti=es?"Feature unavailable due to an error":$?eG:void 0,to="loading"===e9||"error"===e9,ts="loading"===e9?"Loom AI is still generating":"error"===e9?eG:void 0,tc=!1===(0,_.W9)(q.EI5),td=()=>{window.location.href=window.location.href.replace("/share/","/edit/")},tm=i?"Edit the link":X?`Add ${ea} link mentioned`:"Add a link";return w||T?u.createElement(nk,null):tc?u.createElement(eT,{title:"Make edits"},eO?u.createElement(eC,{onClick:td,subText:tt}):null,eM?u.createElement(eb,{icon:u.createElement(M.w,null),title:i?"Edit the link":"Add a link",onClick:t,rightOption:u.createElement(g.JO$,{icon:u.createElement(R.n,null)})}):null):u.createElement(u.Fragment,null,u.createElement(g.W20,{paddingX:"large",paddingY:"small"},u.createElement(ef,{variant:e3}),u.createElement(g.W20,{position:"relative"},u.createElement(g.ggW,{autoFlow:"row",gap:"small",justifyContent:"stretch"},u.createElement(eT,{title:"Make edits",topRightOption:u.createElement(em,{videoId:e,isAiTitleApplied:e4,isAiSummaryApplied:e7,isAiChaptersApplied:e8,isDisabled:e6,tooltipText:te})},eO?u.createElement(eC,{onClick:td,subText:tt,isDisabled:$,tooltipText:$?eG:void 0}):u.createElement(ek,{icon:u.createElement(Z.c,null),title:"Edit and trim video"}),eX?u.createElement(u.Fragment,null,u.createElement(eb,{icon:u.createElement(U.l,null),title:ep?"Removing silences...":ey?"Undoing removal...":ec?`${ed}s of silence removed`:"Remove silences",onClick:ec?e_:ev,rightOption:tl?u.createElement(g.aNw,null):u.createElement(g.rsf,{isActive:ec,isDisabled:tr,readOnly:!0}),isDisabled:tr,disabledTooltipText:ti}),u.createElement(eb,{icon:u.createElement(O.Y,null),title:eh?"Removing filler words...":ex?"Undoing removal...":eu?`${eg} filler ${B()("word",eg)} removed`:"Remove filler words",onClick:eu?ew:eE,rightOption:tn?u.createElement(g.aNw,null):u.createElement(g.rsf,{isActive:eu,isDisabled:ta,readOnly:!0}),isDisabled:ta,disabledTooltipText:ti})):u.createElement(ek,{icon:u.createElement(O.Y,null),title:"Remove silences & filler words"}),e2?null:u.createElement(ek,{icon:u.createElement(D.K,null),title:"Auto-title, chapters, and summary"})),u.createElement(eT,{title:"Take action"},e0?u.createElement(eH,{isDisabled:to,tooltipText:ts,onDocumentClick:()=>{n((0,z.h7)({modalType:"WORKFLOWS_MODAL",options:{workflowTypeOnOpen:"document"}}))},onBugReportClick:()=>{n((0,z.h7)({modalType:"WORKFLOWS_MODAL",options:{workflowTypeOnOpen:"ticket"}}))},onMessageClick:()=>{n((0,z.h7)({modalType:"WORKFLOWS_MODAL",options:{workflowTypeOnOpen:"message"}}))}}):u.createElement(ek,{icon:u.createElement(j.E,null),title:"Auto-generate documents, messages, or bug reports"}),e1?u.createElement(eb,{icon:u.createElement(Y.j,null),title:"Personalize with variables",onClick:()=>{(0,L.Qu)(e,"share-page")},rightOption:u.createElement(g.JO$,{icon:u.createElement(R.n,null)}),isDisabled:!eI,disabledTooltipText:eN??eG}):u.createElement(ek,{icon:u.createElement(Y.j,null),title:"Personalize with variables"}),eM?u.createElement(eb,{icon:u.createElement(M.w,null),title:tm,onClick:t,rightOption:u.createElement(g.JO$,{icon:u.createElement(R.n,null)}),isDisabled:!1,disabledTooltipText:eG}):u.createElement(ek,{icon:u.createElement(M.w,null),title:"Add a link"}))))),u.createElement(eU,null))};var eX=n(12162),e0=n(55238),e1=n(37984);let e2=({onClose:e})=>{let t=(0,V.v9)(K.tV),n=(0,V.v9)(e=>(0,e1.MU)(e,H.tS));return u.createElement(eX.T,{currentPage:e0.L.Link,onClose:e,pageTitle:t?"Edit the link":"Add a link",showDefaultCta:n})};var e5=n(54437),e9=n(80540),e3=n(23904),e4=n(59279),e7=n(58789),e8=n(20409),e6=n(10367),te=n(21636),tt=n(57265),tn=n(32847),ta=n(92431),tl=n(874),tr=n(25051),ti=n(19006),to=n(62527),ts=n(14866),tc=n(51458),td=n(2165),tm=n(65922),tu=n(80110),tg=n(89881),tv=n(36897),tp=n(21190),tE=n(51110),th=n(50376),tf=n(33136),tb=n(49134),t_=n(34941),ty=n(94181),tk=n(31924),tw=n.p+"img/illustrations/player-8461285e3e7f39968f05.png";let tC={},tT=(0,X.Ps)`
    query GetInsightsStatsForVideo($videoId: ID!) {
  engagementInsightsSummaryForVideo(videoId: $videoId) {
    id
    stats(videoId: $videoId) {
      id
      trackedViewerCount
      completionPercentAvg
      ctaConversionPercent
    }
  }
}
    `;var tx=n(31078);let tS=()=>u.createElement(g.LZC,{bottom:2,top:2,left:1},u.createElement(g.ggW,{columns:["auto 1fr"],gap:2},u.createElement(g.W20,{height:4,width:4,backgroundColor:"disabledBackground",radius:"full",paddingLeft:4}),u.createElement(g.Pag,{direction:"column",alignItems:"start",gap:1},u.createElement(g.I7m,null,u.createElement(g.W20,{height:1.5,width:15,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),u.createElement(g.I7m,null,u.createElement(g.Pag,{direction:"row",gap:2},u.createElement(g.I7m,null,u.createElement(g.W20,{height:1.5,width:4,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),u.createElement(g.I7m,null,u.createElement(g.W20,{height:1.5,width:4,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}}))))))),tI=({rowCount:e})=>{let t=[];for(let n=0;n<e;n++)t.push(u.createElement(tS,{key:n}));return u.createElement(u.Fragment,null,t)};var tA=n(83895),tN=n(36197),tW=n(25469),tP=n(63200),tF=n(59013);let tL=({title:e,amount:t,backgroundColor:n="backgroundSecondary",className:a,inActivitySidebar:l=!1})=>u.createElement(u.Fragment,null,l?u.createElement(g.W20,{className:a,backgroundColor:n,padding:"medium",radius:"large"},u.createElement(g.ggW,{autoFlow:"row"},u.createElement(g.xvT,{fontWeight:"bold",color:"grey8"},e),u.createElement(g.xvT,{size:"xxlarge",fontWeight:"bold",color:"grey8"},t))):u.createElement("div",{className:`flex py:small px:medium items:center ${a} radius:medium`,style:{backgroundColor:n}},u.createElement("div",{className:"grow:1"},u.createElement(g.xvT,null,e)),u.createElement(g.xvT,{fontWeight:"bold",size:"xlarge"},t)));var t$=({viewer:e,onBack:t,skipAnimation:n,inActivitySidebar:a})=>{let l=(0,u.useRef)(),{user:r={},views:i=[],percentCompleted:o=0,ctaClicks:c,events:d=[]}=e;return(0,u.useEffect)(()=>{let e=l?.current,t=()=>e?.parentElement?.classList.add(tF.Z.shrinked);document?.documentElement?.scrollTo?.({top:0}),e?.parentElement?.scrollTo?.({left:e.offsetWidth,behavior:n?"auto":"smooth"}),n?t():setTimeout(t,250);let a=new e9.Z(C()(([e])=>{e?.target?.parentElement?.scrollTo({left:e?.contentRect?.width,behavior:"smooth"})},100));return a.observe(e),()=>a.disconnect()},[n]),u.createElement("section",{className:tF.Z.slideable,ref:l},u.createElement(g.yeS,{htmlTag:"header",alignment:"center",isSpread:!0,className:tF.Z.detailsHeader},u.createElement(g.yeS,{alignment:"center",gap:"small"},a?u.createElement(u.Fragment,null,u.createElement(g.hU,{altText:"Back",icon:u.createElement(tP.C,null),onClick:t}),u.createElement("a",{href:`/profile/${r?.profileUrl}`},u.createElement(g.xvT,{fontWeight:"bold",size:"large"},r.name))):u.createElement(u.Fragment,null,u.createElement(g.hU,{altText:"Back",icon:u.createElement(tW.s,null),onClick:t}),u.createElement("a",{href:`/profile/${r?.profileUrl}`},u.createElement(tN.uV,{avatar:r.avatar,color:r.color,variant:r.variant})),u.createElement(tN.Wd,{name:r.name})))),u.createElement("div",null,u.createElement("div",{className:"mb:large"},u.createElement(tL,{title:"Video views",amount:i.length,backgroundColor:"blurpleMedium",inActivitySidebar:a}),u.createElement(tL,{className:a?"mt:medium":"mt:small",title:"Completion rate",amount:null!=o?`${o}%`:"--",backgroundColor:"blueLight",inActivitySidebar:a}),!!c&&u.createElement(tL,{className:s()(a?"mt:medium":"mt:small","test-call-to-action-clicks"),title:"Call-to-Action Clicks",amount:c,backgroundColor:"yellowLight",inActivitySidebar:a})),u.createElement("div",{className:"p:medium bgc:backgroundSecondary mb:large radius:medium"},u.createElement("div",{className:"mb:medium"},u.createElement(g.xvT,{fontWeight:"bold"},"View Times")),u.createElement(tN.UZ,{views:i}))),u.createElement(tN.iF,{events:d}))},tB=n(49374),tV=n(86193),tz=n(57465),tD=n(78703),tR=n(73163),tO=n(72595),tM=n.n(tO),tZ=()=>{let[e,t]=(0,u.useState)(""),[n,a]=(0,u.useState)(""),{video:{isOwner:l,views:r,videoProperties:{playableDuration:i}}}=(0,d.dPl)(),{total:o=0}=r??{},s=(0,tV.aJ)({videoViews:o,videoDuration:i||0}),c=(0,tV.I5)({secondsSaved:s}),[m,{data:v,loading:p}]=(0,tB.t)(tM(),{variables:{dateRangeType:tz.Nm.MONTH,interval:0},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),E=v?.getInsightsValueForTimeframes?.owner?.videoView;return((0,u.useEffect)(()=>{1!==o&&c?c&&(t(`${c} saved`),a("Every view on this video beyond the first view is one less time that you had to repeat yourself. Great work at scaling knowledge!")):(m(),E&&t(`${E} views this month`))},[o,m,c,E]),o&&!p&&l&&e)?u.createElement(u.Fragment,null,u.createElement(g.ggW,{gap:"small",justifyContent:{default:"stretch",medium:"space-between"},autoFlow:{default:"row",medium:"column"}},u.createElement(g.ggW,{gap:"xsmall"},u.createElement(tR.Z,{size:3}),u.createElement(g.LZC,{left:.5}),u.createElement(g.xvT,{size:"medium",color:"bodyDimmed",fontWeight:"book"},e),n&&u.createElement(g.ua7,{content:n,maxWidth:40},u.createElement(g.JO$,{icon:u.createElement(ta.M,null),size:2.25,color:"bodyDimmed"}))),u.createElement(tD.Z,{buttonText:"More insights",source:"viewer-insights-share-page",buttonSize:"small"}))):u.createElement(u.Fragment,null)};try{a=window&&window.localStorage}catch(e){}let tU="engagementInsights:showPartialInfoSaved",tY=()=>a&&a.setItem(tU,!0),tj=()=>a&&a.getItem(tU);var tq=n(67142),tH=n(4843);let{reactor:tG}=t_.NOTIFICATION_URL_PARAMS,tK=e=>isNaN(e)?"n/a":`${Math.round(e)}%`,tJ=({onExit:e,inActivitySidebar:t})=>{let{featureLoadedRef:n}=(0,e7.kX)(),a=(0,V.I0)(),l=(0,u.useRef)(null),r=(0,u.useRef)(null),i=(0,u.useRef)(null),[o,c]=(0,u.useState)(!tj()),m=(0,u.useCallback)(e=>{a((0,tc.L)(e)),e&&(0,tA.E3)()},[a]),p=l?.current,E=r?.current,h=(0,u.useCallback)(()=>{t?((0,tA.wK)(),m(null)):(p?.classList.remove(tF.Z.shrinked),setTimeout(()=>{document.documentElement.scrollTo({top:0}),p?.scrollTo({left:0,behavior:"smooth"}),E?.scrollTo({top:0})},50),(0,tA.wK)(),setTimeout(()=>m(null),350))},[m,E,p,t]),{video:{id:f,ctaEnabled:b=!1,views:_}}=(0,d.dPl)(),{total:y=0,distinct:k=0}=_??{},w=(0,V.v9)(e=>(0,e1.MU)(e,H.L7)),{data:C}=function(e){let t={...tC,...e};return ee.a(tT,t)}({variables:{videoId:f},skip:!w||!y,client:(0,tf.yy)()}),T=C?.engagementInsightsSummaryForVideo?.stats?.completionPercentAvg??void 0,x=C?.engagementInsightsSummaryForVideo?.stats?.ctaConversionPercent??void 0,S=C?.engagementInsightsSummaryForVideo?.stats?.trackedViewerCount??void 0,{data:I,loading:A,fetchMore:N}=(0,tx.uB)({variables:{first:50,videoId:f},client:(0,tf.yy)(),skip:!w||!y,notifyOnNetworkStatusChange:!0}),{viewersWithEngagements:W,hasNextPage:P,endCursor:F}=(0,tH.R)(I),L=(0,u.useCallback)(()=>{!A&&N&&F&&P&&w&&N({variables:{first:50,after:F,videoId:f}})},[N,A,f,F,P,w]);(0,tk.Z)(i,L);let $=(0,tq.p)(_),B=w?W:$,z=(0,V.v9)(tg.R),D=(0,th.D)(z),R=S!==k;return(0,u.useEffect)(()=>{let e=(0,e8.jS)(tG);if(e){let t=B.find(t=>(0,tH.O)(t)&&String(t.user.id)==e);null!=t&&(m(t),(0,e8.$5)(window)(tG))}r?.current?.scrollTo?.({top:0}),z||e||h()},[h,m,z,B]),u.createElement("div",{ref:n},u.createElement("section",{ref:r,className:tF.Z.containerBox+" overflow:auto thin-scrollbars radius:medium",style:{display:"flex",flexDirection:"column"}},0===y?u.createElement(tQ,null):u.createElement(v.Gm,{feature:tr.L0.EngagementInsights},!t&&u.createElement(g.yeS,{alignment:"center",isSpread:!0,className:tF.Z.sticky},u.createElement(g.xvT,{variant:"title"},"Engagement Insights"),u.createElement(g.hU,{altText:"Close",icon:u.createElement(tb.G,null),onClick:e})),R&&o&&u.createElement("div",{className:"mb:medium"},u.createElement(t9,{onClick:()=>{c(!1),tY(),(0,tA.h$)()}})),u.createElement("div",{className:tF.Z.slideableContainer,ref:l},u.createElement("section",{className:tF.Z.slideable},u.createElement(g.LZC,{top:"medium"}),u.createElement(tZ,null),u.createElement(g.LZC,{top:"small"}),u.createElement("ul",{className:s()(tF.Z.viewsMetadata,{[tF.Z.partial]:!R})},u.createElement(u.Fragment,null,u.createElement(tX,{total:y}),u.createElement(ty.Z,{name:H.L7},u.createElement(t0,{completionPercentAvg:T,trackedViewerCount:S,totalViewerCount:k})),b&&u.createElement(ty.Z,{name:H.L7},u.createElement(t1,{ctaConversionPercent:x})))),u.createElement(t4,{viewers:B,totalViewerCount:k,onViewerClick:m,hasEngagementInsights:w,hasNextPage:P??!1,paginatedViewersLoading:A,fetchMoreRef:i}),!B.length&&u.createElement(g.aNw,null)),z&&u.createElement(t$,{viewer:z,onBack:h,skipAnimation:void 0===D,inActivitySidebar:t})))))},tQ=()=>{let{video:{owner:{displayName:e}}}=(0,d.dPl)();return u.createElement(g.W20,{paddingY:"20vh",style:{textAlign:"center"}},u.createElement("img",{alt:"A Loom user is pointing a finger upwards to a video",width:"140px",height:"140px",src:tw,loading:"lazy"}),u.createElement(g.LZC,{bottom:3}),u.createElement(g.xvT,{fontWeight:"bold",size:"large"},"No views... yet"),u.createElement(g.LZC,{top:1,bottom:2},u.createElement(g.xvT,{fontWeight:"book",color:"bodyDimmed"},`Be the first to watch ${e}'s video`)))},tX=({total:e})=>u.createElement("li",{className:"bgc:blurpleMedium"},u.createElement(g.xvT,{fontWeight:"bold",color:"grey8"},"Total video views"),u.createElement(g.xvT,{size:"xxlarge",fontWeight:"bold",color:"grey8"},e)),t0=({completionPercentAvg:e,trackedViewerCount:t,totalViewerCount:n})=>u.createElement("li",{className:s()("bgc:blueLight",{[tF.Z.disabled]:!e})},u.createElement(g.ggW,{gap:"xsmall",autoFlow:"row"},u.createElement(g.xvT,{fontWeight:"bold",color:"grey8"},"Average Completion Rate"),u.createElement(t5,{trackedViewerCount:t,totalViewerCount:n,source:"completion rate"})),u.createElement(t3,{percent:e})),t1=({ctaConversionPercent:e})=>u.createElement("li",{className:s()("bgc:yellowLight",{[tF.Z.disabled]:!e})},u.createElement(g.ggW,{gap:"xsmall",autoFlow:"row"},u.createElement(g.xvT,{fontWeight:"bold",color:"grey8"},"Call-to-Action Conversion")),u.createElement(t3,{percent:e})),t2=({href:e,source:t})=>u.createElement(g.ua7,{content:"Engagement is only tracked after upgrading to Business or Enterprise.",placement:"topCenter"},u.createElement("a",{href:e,className:tF.Z.infoIcon,onClick:()=>(0,tA.AE)({source:t}),target:"_blank",rel:"noopener noreferrer"},u.createElement(ta.M,null))),t5=({trackedViewerCount:e,totalViewerCount:t,source:n})=>e===t?null:u.createElement("div",{className:"flex items:center"},u.createElement(g.xvT,{size:"small",color:"grey8"},"Based on ",e," of ",t," viewers"),u.createElement(t2,{href:tE.NJ,source:n})),t9=({onClick:e})=>u.createElement(g.W20,{backgroundColor:"backgroundSecondary",radius:"medium",padding:"medium"},u.createElement(g.xvT,{fontWeight:"bold",className:"mb:medium"},"This video includes partially tracked data."),u.createElement(g.LZC,{bottom:"medium"},u.createElement(g.xvT,null,"Engagement is only tracked after upgrading to Business or Enterprise.")),u.createElement(g.xMy,{alignment:"centerRight"},u.createElement(g.zxk,{variant:"primary",onClick:e},"Got it"))),t3=({percent:e})=>u.createElement(g.xvT,{size:"xxlarge",fontWeight:"bold",color:"grey8"},"number"==typeof e?tK(e):"--"),t4=({viewers:e,totalViewerCount:t,onViewerClick:n,hasEngagementInsights:a,hasNextPage:l,paginatedViewersLoading:r,fetchMoreRef:i})=>u.createElement("div",{className:tF.Z.viewers},u.createElement(g.xvT,{fontWeight:"bold",size:"large",className:"mb:small"},`${t} ${B()("Viewers",t)}`),e.map(e=>u.createElement("div",{key:e.user.id,className:a?s()(tF.Z.card):"overflow:hidden",onClick:a?()=>n(e):void 0},u.createElement(tN.Dg,{user:e.user,events:e.events}))),(l||r)&&u.createElement(u.Fragment,null,u.createElement("div",{ref:i}),u.createElement(tI,{rowCount:3}))),t7=e=>u.createElement(e3.$,{feature:tr.L0.EngagementInsights,errorType:e4.s.SILENT,additionalLoggingValues:{version:"views panel"}},u.createElement(tJ,{...e})),t8={SIDEBAR:10,RESIZER:11};var t6=n(30079);let ne=(0,h.r)(()=>Promise.all([n.e(7333),n.e(5207)]).then(n.bind(n,72749)).then(e=>({default:e.EditTab}))),nt=e=>u.createElement(u.Suspense,{fallback:null},u.createElement(ne,{...e})),nn=(0,h.r)(()=>Promise.all([n.e(7333),n.e(5207)]).then(n.bind(n,39292))),na=e=>u.createElement(u.Suspense,{fallback:null},u.createElement(nn,{...e}));var nl=n(61259),nr=n(51155),ni={shortcutWrapper:"resizer_shortcutWrapper_1Kw",resizeBarContainer:"resizer_resizeBarContainer_3oR",resizeBar:"resizer_resizeBar_2Sx",highlight:"resizer_highlight_fUz",tooltipWrapper:"resizer_tooltipWrapper_3lN",showTooltipWrapper:"resizer_showTooltipWrapper_Whw"};let no=()=>u.createElement(g._MZ,null,u.createElement(g.W20,{paddingX:"xsmall"},u.createElement(g.ggW,{autoFlow:"row"},u.createElement(g.ggW,{gap:"xsmall"},u.createElement(g.xvT,{size:"small",fontWeight:"bold"},"Drag"),u.createElement(g.xvT,{size:"small"},"to resize")),u.createElement(g.ggW,{gap:"xsmall"},u.createElement(g.xvT,{size:"small",fontWeight:"bold"},"Click"),u.createElement(g.xvT,{size:"small"},"to collapse"),u.createElement(g.W20,{className:ni.shortcutWrapper},u.createElement(g.xMy,{alignment:"center"},u.createElement(g.xvT,{size:"small",fontWeight:"bold",color:"grey3"},"T"))))))),ns=({setWidth:e,disabled:t})=>{let[n,a]=(0,u.useState)(!1),[l,r]=(0,u.useState)(0),[i,o]=(0,u.useState)(!1),c=nu(),{hasMousePosition:d,resetMousePosition:m,handleMouseEvent:g,trigger:v}=(0,nr.md)(),{layerProps:p,renderLayer:E}=(0,nr.sJ)({isOpen:d,onOutsideClick:m,trigger:v,placement:"right-center",triggerOffset:8});p.style={...p.style,zIndex:t8.RESIZER};let h=(0,V.v9)(K.Mx),f=(0,u.useCallback)(t=>{if(n){t.preventDefault();let n=window.innerWidth,a=n-t.clientX;425<a&&a<700?405<a&&a<445?e(425):e(a):a<425?e(425):700<a&&e(700)}},[n,e]);return((0,u.useEffect)(()=>{document.addEventListener("mousemove",f,!1),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",f,!1),a(!1)},!1)},[n,f]),(0,u.useEffect)(()=>{let e=document.getElementById("container");e&&(n?e.style.cursor="col-resize":e.style.cursor="unset")},[n]),t)?u.createElement(u.Fragment,null):h?u.createElement(u.Fragment,null):u.createElement("div",{className:ni.resizeBarContainer,style:{zIndex:t8.RESIZER},onMouseDown:e=>{r(e.timeStamp),m(),a(!0)},onMouseUp:e=>{let t=e.timeStamp-l;t<200&&(c(!1),o(!1))},onMouseEnter:e=>{n?o(!1):(g(e),o(!0))},onMouseLeave:()=>{m(),o(!1)}},u.createElement("div",{className:s()(ni.resizeBar,i||n?ni.highlight:void 0)}),E(u.createElement("div",{...p,className:s()(ni.tooltipWrapper,d?ni.showTooltipWrapper:void 0)},u.createElement(no,null))))},nc=()=>{let{video:{organizationId:e,id:t}}=(0,d.dPl)(),n=(0,k.p$)(e),a=(0,y.l)(t);return n||a},nd=()=>{let{video:{currentUserCanEdit:e,showAnalytics:t}}=(0,d.dPl)(),n=nc();return n&&(e||t)},nm=()=>{let{video:{currentUserCanEdit:e}}=(0,d.dPl)(),t=(0,td.MS)();return e&&t},nu=()=>{let e=(0,V.I0)(),t=(0,td.ag)(`(max-width: ${l.U2}px)`),n=(0,V.v9)(tg.F),a=(0,u.useCallback)(a=>{if(t)return;e((0,to.XU)(!1));let l=!a;e((0,ts.zn)(l)),e((0,to.Eu)(l)),(0,tp.Ly)("theaterMode",l),l&&n&&e((0,tc.Z)())},[e,t,n]);return a},ng=()=>{let e=(0,V.I0)(),{video:{id:t}}=(0,d.dPl)(),n=(0,V.v9)(K.RN),a=(0,u.useCallback)(a=>{null!=n&&tv.track(r.NRv,{primary_navigation_item:a,video_id:t}),e((0,to.Yi)(a))},[e,n,t]);return nv({onTab:n,setOnTab:a}),{onTab:n,setOnTab:a}},nv=({onTab:e,setOnTab:t})=>{let{video:{commentsEnabled:n,views:a}}=(0,d.dPl)(),l=(0,V.v9)(K.Pw),r=nm(),i=(0,td.MS)(),o=(a?.distinct??0)>0,s=r&&i&&(l||!o);(0,u.useEffect)(()=>{e||(s?t(t6.YS.Edit):n?t(t6.YS.Activity):t(t6.YS.Transcript))},[s,n,e,t])},np=()=>{let{isCollapsed:e}=(0,c.m)();return!e},nE=()=>{let{onTab:e,setOnTab:t}=ng(),n=nu(),{isCollapsed:a}=(0,c.m)();return (l=t6.YS.Activity)=>{e!==l&&t(l),a&&n(!0)}},nh=({switchToTab:e})=>{let t=(0,d.q9z)(),n=t>9?"9+":`${t}`;return u.createElement("div",{id:"collapsed-sidebar-button-comment-icon"},u.createElement(g.hU,{altText:"Activity",className:"collapsed-sidebar-button-icon",icon:u.createElement(tt.j,null),onClick:()=>e(t6.YS.Activity)}),t>0&&u.createElement("span",{id:"collapsed-sidebar-button-comment-icon-number"},n))},nf=()=>{let e=nu();return u.createElement("div",{className:"toggleSidebarButton"},u.createElement(g.ua7,{isInline:!1,content:"Hide sidebar",shortcut:["T"],placement:"rightCenter"},u.createElement(g.hU,{altText:"Hide sidebar",icon:u.createElement(te.a,null),onClick:()=>{e(!1)}})))},nb=({tabName:e})=>{let{video:{commentsEnabled:t,currentUserCanEdit:n,showAnalytics:a,showTranscriptToViewer:l}}=(0,d.dPl)(),r=!1;if(n)switch(e){case t6.YS.Edit:r=!1;break;case t6.YS.Activity:r=!t;break;case t6.YS.Transcript:r=!l;break;case t6.YS.Views:r=!a}return r?u.createElement(g.ua7,{maxWidth:"220px",triggerOffset:8,content:"This tab is only visible to editors. To share with viewers update your video settings.",placement:"bottomCenter"},u.createElement(g.JO$,{className:"tab-tooltip-icon",altText:"Information",color:"bodyDimmed",size:"1rem",icon:u.createElement(ta.M,null)})):null},n_=({tabName:e,isActive:t,handleClick:n})=>u.createElement(g.OK9,{isActive:t,className:t?"active-tab":void 0,onClick:n,"data-testid":`sidebar-tab-${e}`},u.createElement(()=>u.createElement("div",null,e,t?u.createElement(nb,{tabName:e}):null),null)),ny=({tabsToShow:e,isViewerSelected:t,onEditSubpage:n,setOnEditSubpage:a,width:l})=>{let[r,i]=(0,u.useState)(!1),{isStacked:o}=(0,c.m)(),{onTab:s}=ng(),d=(0,u.useMemo)(()=>u.createElement(x,{onCommentDisplay:i}),[r]);return u.createElement("div",{style:o?void 0:{width:l}},e.includes(t6.YS.Edit)&&u.createElement(E,{name:"Activity Transcript Sidebar Edit",team:tr.SZ.CreatorX,tabName:"Editor"},s===t6.YS.Edit&&u.createElement("div",{style:{height:n?t6.IB:"auto"}},u.createElement(nC,{editSubtab:n,setEditSubtab:a}))),e.includes(t6.YS.Activity)&&u.createElement(E,{name:"Activity Transcript Sidebar Activity",team:tr.SZ.IntegrateOrganizeCollaborate,tabName:"Activity"},u.createElement(g.W20,{style:s===t6.YS.Activity?{}:{display:"none"}},u.createElement(g.LZC,{left:3,right:3},u.createElement("div",null,d)))),e.includes(t6.YS.Transcript)&&u.createElement(E,{name:"Activity Transcript Sidebar Transcript",team:tr.SZ.CreatorX,tabName:"Transcript"},s==t6.YS.Transcript&&u.createElement(g.LZC,{left:1,right:1},u.createElement("div",{style:{height:t6.IB}},u.createElement(b,null)))),e.includes(t6.YS.Views)&&u.createElement(u.Fragment,null,s===t6.YS.Views&&u.createElement("div",null,u.createElement(E,{name:"Activity Transcript Sidebar Viewer Insights",team:tr.SZ.CreatorX,tabName:"Views"},u.createElement(g.LZC,{left:3,right:3},t?u.createElement(g.LZC,{top:3},u.createElement(t7,{inActivitySidebar:!0})):u.createElement(t7,{inActivitySidebar:!0}))))),e.includes(t6.YS.Settings)&&u.createElement(E,{name:"Activity Transcript Sidebar Settings",team:tr.SZ.CreatorX,tabName:"Settings"},u.createElement("div",{style:s===t6.YS.Settings?{}:{display:"none"}},u.createElement(nl.Y,{goBackToEditPage:()=>a(null),pageTitle:"",settingsIsInEditTab:!0}))))},nk=()=>u.createElement(g.W20,{padding:3},u.createElement(g.LZC,{bottom:1},u.createElement(g.W20,{width:20},u.createElement(g.N2B,{size:"heading-md",lines:1}))),u.createElement(g.N2B,{size:"heading-lg",lines:1}),u.createElement(g.N2B,{size:"heading-lg",lines:1}),u.createElement(g.LZC,{top:2,bottom:1},u.createElement(g.W20,{width:20},u.createElement(g.N2B,{size:"heading-md",lines:1}))),u.createElement(g.N2B,{size:"heading-lg",lines:1}),u.createElement(g.N2B,{size:"heading-lg",lines:1}),u.createElement(g.N2B,{size:"heading-lg",lines:1}),u.createElement(g.N2B,{size:"heading-lg",lines:1}),u.createElement(g.N2B,{size:"heading-lg",lines:1}),u.createElement(g.N2B,{size:"heading-lg",lines:1})),nw=({editSubtab:e,setEditSubtab:t})=>{let{video:{modelId:n}}=(0,d.dPl)(),a=(0,_.W9)(q.SMQ),l=(0,_.Mr)({flag:q.dKZ,activationValues:q.c7r}),{featureLoadedRef:r}=(0,e7.kX)(),i=(0,V.I0)();if(void 0===a||void 0===l)return u.createElement("div",{ref:r},u.createElement(nk,null));if(l){let a=e===e0.L.Link;return a?u.createElement(e2,{onClose:()=>t(null)}):u.createElement(eQ,{videoId:n,onAddLinkClick:()=>{i((0,e5.XJ)()),t(e0.L.Link)}})}return a?u.createElement("div",{ref:r},u.createElement(na,{currentPage:e,onClickEditTool:t})):u.createElement("div",{ref:r},u.createElement(nt,{currentPage:e,onClickEditTool:t}))},nC=e=>u.createElement(e3.$,{feature:tr.L0.EditTools,errorType:e4.s.DEFAULT,additionalLoggingValues:{version:"edit tab"}},u.createElement(nw,{...e})),nT=()=>{let{video:{id:e}}=(0,d.dPl)(),t=(0,d.DWr)(e),n=nm(),a=nu(),l=nd(),{isStacked:r,isCollapsed:i}=(0,c.m)(),{onTab:o,setOnTab:m}=ng(),v=C()(e=>{a(!0),o!==e&&m(e)},100),p=!i||r;return u.createElement(g.W20,{radius:"full",marginX:2,className:s()("collapsed-sidebar-buttons",!t&&"prePlay",t&&"postPlay",!p&&"isVisible")},u.createElement(g.LZC,{top:2,bottom:2},u.createElement(g.ggW,{gap:2,autoFlow:"row"},n&&u.createElement(g.ua7,{placement:"leftCenter",content:"Edit"},u.createElement(g.hU,{altText:"Edit",className:"collapsed-sidebar-button-icon",icon:u.createElement(tn.b,null),onClick:()=>v(t6.YS.Edit)})),u.createElement(g.ua7,{placement:"leftCenter",content:"Activity"},u.createElement(nh,{switchToTab:v})),u.createElement(g.ua7,{placement:"leftCenter",content:"Transcript"},u.createElement(g.hU,{altText:"Transcript",className:"collapsed-sidebar-button-icon",icon:u.createElement(tl.G,null),onClick:()=>v(t6.YS.Transcript)})),l&&u.createElement(g.ua7,{placement:"leftCenter",content:"Views"},u.createElement(g.hU,{altText:"Views",className:"collapsed-sidebar-button-icon",icon:u.createElement(e6.e,null),onClick:()=>v(t6.YS.Views)})))))},nx=({responsiveWidth:e,setIsResizerDisabled:t})=>{let{video:{showTranscriptToViewer:n}}=(0,d.dPl)(),a=(0,V.I0)(),{isStacked:l,isCollapsed:r}=(0,c.m)(),{onTab:i,setOnTab:o}=ng(),v=r?0:e||t6.oh,p=(0,V.v9)(tg.F),E=(0,V.v9)(tg.R),h=nd(),f=nm(),b=(0,V.v9)(tu.S),{showDefaultSettings:_}=(0,V.v9)(K.z8),y=(0,m.K)(),[k,w]=(0,u.useState)(null),{isActive:C}=(0,S.V)(),T=(0,e8.jS)(ti._G),[x,I]=(0,u.useState)(!1),A=(0,V.v9)(tm.CX);(0,u.useEffect)(()=>{A&&(a((0,e5.lf)()),w(e0.L.Thumbnail)),A||w(null),_&&(w(e0.L.Settings),setTimeout(()=>{a((0,to.oi)(!1))})),T===t6.YS.Edit&&o(t6.YS.Edit)},[_,a,A,T,o]);let N=[];if(f?N.push(t6.YS.Edit):i===t6.YS.Edit&&(w(null),o(t6.YS.Activity)),N.push(t6.YS.Activity),(f||n)&&!y&&N.push(t6.YS.Transcript),h&&N.push(t6.YS.Views),f&&N.push(t6.YS.Settings),(0,u.useEffect)(()=>{if(t){let e=k||E;t(e)}},[k,E,t]),(0,u.useEffect)(()=>{p&&i!==t6.YS.Views&&o(t6.YS.Views)},[p]),(0,u.useEffect)(()=>{C&&o(t6.YS.Edit)},[C,o]),(0,u.useEffect)(()=>{(i===t6.YS.Views&&!p||i!==t6.YS.Views&&p)&&a((0,tc.Z)())},[i,a]),b)return null;let W=!l&&!k&&!E;return u.createElement(g.W20,{className:s()("activitySidebarContainer",{collapsed:r,stacked:l,"sidebar-scrolled":x}),id:"activity-sidebar-container",width:l?"unset":`${v}px`,style:{overflowY:l?"inherit":"auto",overflowX:"hidden"},onScroll:e=>{I(e.target.scrollTop>0)}},u.createElement(g.W20,{backgroundColor:"background",style:{position:"sticky",top:0},zIndex:t8.SIDEBAR},!E&&!k&&u.createElement("div",{id:"right-panel-tabs"},u.createElement(g.LZC,{top:2,left:3},u.createElement(g.mQc,null,N.map(e=>u.createElement(n_,{key:e,tabName:e,isActive:e===i,handleClick:()=>o(e)}))))),W&&u.createElement(nf,null)),u.createElement(ny,{tabsToShow:N,isViewerSelected:E,onEditSubpage:k,setOnEditSubpage:w,width:e||t6.oh}))},nS=(0,u.forwardRef)(({useDefaultWidth:e=!1},t)=>{let n=t?.current,a=(0,tp.bM)(i.BT)||t6.oh,[l,r]=(0,u.useState)(a),{isStacked:o,isCollapsed:s}=(0,c.m)(),[d,m]=(0,u.useState)(0),[g,v]=(0,u.useState)(!1),[p,E]=(0,u.useState)(!1),h=C()(e=>{(0,tp.Ly)(i.BT,e)},300);return(0,u.useEffect)(()=>{e||h(l)},[l,h,e]),(0,u.useEffect)(()=>{r(e?t6.oh:a)},[e]),(0,u.useEffect)(()=>{let e=new e9.Z(C()(e=>{let t=e[0].target.clientWidth;m(t)},100));return n&&e.observe(n),()=>e.disconnect()},[n,t]),(0,u.useEffect)(()=>{s?v(!1):g||d!==l||v(!0)},[s,d,g,l]),u.createElement("div",{ref:t,className:"rightPanelWrapper"},u.createElement(ns,{setWidth:r,disabled:o||s||p}),u.createElement(nx,{responsiveWidth:l,setIsResizerDisabled:E}))});nS.displayName="RightPanelWithResizer"},31078:function(e,t,n){"use strict";n.d(t,{uB:function(){return o}});var a=n(83445),l=n(55684);let r={},i=(0,a.Ps)`
    query GetPaginatedInsightsForVideo($videoId: ID!, $first: Int!, $after: String) {
  engagementInsightsSummaryForVideo(videoId: $videoId) {
    id
    paginatedViewers(videoId: $videoId, first: $first, after: $after) {
      pageInfo {
        endCursor
        hasNextPage
      }
      edges {
        node {
          id
          hasWatchSession
          percentCompleted
          cta
          ctaClicks
          trackedViews
          views
          user {
            id
            avatar
            name
            color
            variant
            profileUrl
          }
          events {
            type
            ts
            id
            content
          }
        }
      }
    }
  }
}
    `;function o(e){let t={...r,...e};return l.a(i,t)}},67142:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});let a=(e={total:0})=>{let t=e?.named||[],n=e?.distinct||0,a=t.map(e=>({user:{name:`${e.firstName} ${e.lastName}`,avatar:e?.avatar}})),l=n-a.length;for(let e=0;e<l;e++)a.push({user:{}});return a}},4843:function(e,t,n){"use strict";n.d(t,{O:function(){return l},R:function(){return a}});let a=e=>{let t=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.edges?.map(e=>e?.node).filter(e=>e&&"EngagementInsightsAggregate"===e.__typename)??[],n=t.map(e=>({...e,commentCount:(e.events||[]).filter(e=>e&&("comment"===e.type||"reply"===e.type)).length,reactionCount:(e.events||[]).filter(e=>e&&"reaction"===e.type).length})),a=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.pageInfo?.endCursor??null,l=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.pageInfo?.hasNextPage??!1;return{viewersWithEngagements:n,endCursor:a,hasNextPage:l}},l=e=>"EngagementInsightsAggregate"===e.__typename&&"commentCount"in e&&"reactionCount"in e},95106:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});let a="calc(var(--header-height) + var(--banner-height))"},79790:function(e,t,n){"use strict";n.d(t,{H:function(){return l},R:function(){return a}});let a="keyup",l="keydown"},92245:function(e,t,n){"use strict";n.d(t,{l:function(){return m}});var a=n(92947),l=n(16032),r=n(83445),i=n(55684);let o={},s=(0,r.Ps)`
    query HasAnonymousCreatorPrivileges($videoId: ID!) {
  result: hasAnonymousCreatorPrivilegesQuery(videoId: $videoId) {
    ... on hasAnonymousCreatorPrivilegesPayload {
      hasPrivileges
    }
  }
}
    `;var c=n(20409);let d=e=>!!(e&&e.result&&"UserAlreadyLoggedInError"!==e.result.__typename&&"GenericError"!==e.result.__typename&&e.result?.hasPrivileges)&&e.result.hasPrivileges,m=e=>{let t=(0,l.useIsCurrentUserLoggedIn)(),n=!!(a.r8&&(0,c.jS)("anon-creator")),{data:r}=function(e){let t={...o,...e};return i.a(s,t)}({variables:{...e?{videoId:e}:{videoId:""}},skip:!e||t||n}),m=d(r);return!t&&(!!n||m)}},6415:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var a=n(50679),l=n(76706),r=n(83034);let i=()=>{let e=(0,a.v9)(e=>{let t=e?.feature_flags[l._Vl];return t?.value});return!!r.Q8.includes(e)}},50376:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var a=n(58453);function l(e){let t=(0,a.useRef)();return(0,a.useEffect)(()=>{t.current=e}),t.current}},49686:function(e,t,n){"use strict";n.d(t,{JP:function(){return o},PG:function(){return i},q2:function(){return c}});var a=n(83445),l=n(134);let r={},i=(0,a.Ps)`
    fragment AudioVariableFromTask on AudioVariable {
  __typename
  id
  taskId
  startTsInOriginalForSentence
  endTsInOriginalForSentence
}
    `,o=(0,a.Ps)`
    fragment TaskStatus on TaskStatusPayload {
  __typename
  id
  status
}
    `,s=(0,a.Ps)`
    subscription TaskStatus($videoId: ID!) {
  taskStatus(videoId: $videoId) {
    ...TaskStatus
    audioVariables {
      ...AudioVariableFromTask
    }
  }
}
    ${o}
${i}`;function c(e){let t={...r,...e};return l.m(s,t)}},50518:function(e,t,n){"use strict";n.d(t,{Qu:function(){return g},Sx:function(){return p},_C:function(){return E},g7:function(){return h},s3:function(){return f},zN:function(){return v}});var a=n(20887),l=n(51110),r=n(28599),i=n(33136),o=n(98539),s=n(19006),c=n(75382),d=n(36897),m=n(49686);let{getSlug:u}=o,g=(e,t)=>{let n=`${l.OA}/edit/${e}?${s.Uu}=true`;(0,d.track)(a.Go0,{source:t,video_id:e}),window.location.href=n},v=e=>{window.location.href=`${l.OA}${l.v$}/${u(e)}?${s.jp}=${c.at.Audio}`},p=({selectedKeys:e,transcriptTokens:t,wordToTokens:n})=>{if(e.length>1||e.some(e=>e.keysInRange.length>1))return{variableKeys:[...e]};let a=e[0].startKey,l=t[a],i=f(l.value).toLowerCase(),o=n.get(i)||[],s=n.get(`${i}${r.l3}`)||[],c=[...o,...s];if(!c||c.length<=1)return{variableKeys:[...e]};let d=[];for(let e of c)d.push({startKey:e.key,endKey:e.key,keysInRange:[e.key]});return{variableKeys:d}},E=({audioVariables:e,timestampsForKeys:t})=>{let n=e.map(e=>({start:e.startTimestamp,end:e.endTimestamp})).sort((e,t)=>e.start-t.start),a=t.sort((e,t)=>e.startTsInSecs-t.startTsInSecs);for(let e of a){let t=n.some(t=>e.startTsInSecs>=t.start&&e.endTsInSecs<=t.end);if(!t)return!1}return!0},h=e=>{let t=(0,i.J$)().cache,n=t.readFragment({id:t.identify({id:e,__typename:"AudioVariable"}),fragment:m.PG});if(!n)throw Error("Could not find audioVariable in apollo cache.");let a=t.readFragment({id:t.identify({id:n.taskId,__typename:"TaskStatusPayload"}),fragment:m.JP});return{id:n.id,status:a?.status??"sent",startTimestamp:n.startTsInOriginalForSentence??0,endTimestamp:n.endTsInOriginalForSentence??0}},f=e=>e.endsWith(r.l3)?e.slice(0,-1*r.l3.length):e},28599:function(e,t,n){"use strict";n.d(t,{JV:function(){return a},Nq:function(){return r},ax:function(){return l},l3:function(){return i}});let a=5,l=" ",r=4e3,i="'s"},72595:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getInsightsValueForTimeframes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateRangeType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"interval"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getInsightsValueForTimeframes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dateRangeType"},value:{kind:"Variable",name:{kind:"Name",value:"dateRangeType"}}},{kind:"Argument",name:{kind:"Name",value:"interval"},value:{kind:"Variable",name:{kind:"Name",value:"interval"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InsightsForTimeframes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoView"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:264}};t.loc.source={body:"query getInsightsValueForTimeframes($dateRangeType: String!, $interval: Int!) {\n  getInsightsValueForTimeframes(\n    dateRangeType: $dateRangeType\n    interval: $interval\n  ) {\n    ... on InsightsForTimeframes {\n      owner {\n        videoView\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.getInsightsValueForTimeframes=function(e,t){var l={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(l.loc=e.loc);var r=n[t]||new Set,i=new Set,o=new Set;for(r.forEach(function(e){o.add(e)});o.size>0;){var s=o;o=new Set,s.forEach(function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return i.forEach(function(t){var n=a(e,t);n&&l.definitions.push(n)}),l}(t,"getInsightsValueForTimeframes")},59013:function(e,t){"use strict";t.Z={sticky:"viewer-insights_sticky_L4M",viewerInfo:"viewer-insights_viewerInfo_1-t",viewsMetadata:"viewer-insights_viewsMetadata_3ii",card:"viewer-insights_card_3BS",partial:"viewer-insights_partial_3iq",disabled:"viewer-insights_disabled_3c9",slideableContainer:"viewer-insights_slideableContainer_6xP",slideable:"viewer-insights_slideable_2w3",detailsHeader:"viewer-insights_detailsHeader_2Wj",eventItem:"viewer-insights_eventItem_3P7",isClickable:"viewer-insights_isClickable_zTp",infoLink:"viewer-insights_infoLink_24m",infoIcon:"viewer-insights_infoIcon_1tN",containerBox:"viewer-insights_containerBox_29m",shrinked:"viewer-insights_shrinked_2rL",emoji:"viewer-insights_emoji_GVM",viewers:"viewer-insights_viewers_3Nx"}}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/1626-be8da49a682910eb31d3.js.map